(function(a,b){function d(){a.removeEventListener("load",d,!1);l=!0}function c(a){return p=p||new c.Class(a)}function e(a,c){for(var b in c)a[b]=c[b];return a}function f(){"#ath"==b.location.hash&&history.replaceState("",a.document.title,b.location.href.split("#")[0]);h.test(b.location.href)&&history.replaceState("",a.document.title,b.location.href.replace(h,"$1"));q.test(b.location.search)&&history.replaceState("",a.document.title,b.location.href.replace(q,"$2"))}var g="addEventListener"in a,l=!1;
"complete"===b.readyState?l=!0:g&&a.addEventListener("load",d,!1);var h=/\/ath(\/)?$/,q=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/,p;c.intl={de_de:{ios:"Um diese Web-App zum Home-Bildschirm hinzuzuf\u00fcgen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.",android:"Um diese Web-App zum Home-Bildschirm hinzuzuf\u00fcgen, \u00f6ffnen Sie das Men\u00fc und tippen dann auf <strong>Zum Startbildschirm hinzuf\u00fcgen</strong>. <small>Wenn Ihr Ger\u00e4t eine Men\u00fctaste hat, l\u00e4sst sich das Browsermen\u00fc \u00fcber diese \u00f6ffnen. Ansonsten tippen Sie auf %icon.</small>"},
da_dk:{ios:"For at tilf\u00f8je denne web app til hjemmesk\u00e6rmen: Tryk %icon og derefter <strong>F\u00f8j til hjemmesk\u00e6rm</strong>.",android:"For at tilf\u00f8je denne web app til hjemmesk\u00e6rmen, \u00e5bn browser egenskaber menuen og tryk p\u00e5 <strong>F\u00f8j til hjemmesk\u00e6rm</strong>. <small>Denne menu kan tilg\u00e5s ved at trykke p\u00e5 menu knappen, hvis din enhed har en, eller ved at trykke p\u00e5 det \u00f8verste h\u00f8jre menu ikon %icon.</small>"},en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",
android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},es_es:{ios:"Para a\u00f1adir esta aplicaci\u00f3n web a la pantalla de inicio: pulsa %icon y selecciona <strong>A\u00f1adir a pantalla de inicio</strong>.",android:"Para a\u00f1adir esta aplicaci\u00f3n web a la pantalla de inicio, abre las opciones y pulsa <strong>A\u00f1adir a pantalla inicio</strong>. <small>El men\u00fa se puede acceder pulsando el bot\u00f3n t\u00e1ctil en caso de tenerlo, o bien el icono de la parte superior derecha de la pantalla %icon.</small>"},
fi_fi:{ios:"Liit\u00e4 t\u00e4m\u00e4 sovellus kotivalikkoon: klikkaa %icon ja t\u00e4m\u00e4n j\u00e4lkeen <strong>Lis\u00e4\u00e4 kotivalikkoon</strong>.",android:"Lis\u00e4t\u00e4ksesi t\u00e4m\u00e4n sovelluksen aloitusn\u00e4yt\u00f6lle, avaa selaimen valikko ja klikkaa t\u00e4hti -ikonia tai <strong>Lis\u00e4\u00e4 aloitusn\u00e4yt\u00f6lle teksti\u00e4</strong>. <small>Valikkoon p\u00e4\u00e4see my\u00f6s painamalla menuvalikkoa, jos laitteessasi on sellainen tai koskettamalla oikealla yl\u00e4kulmassa menu ikonia %icon.</small>"},
fr_fr:{ios:"Pour ajouter cette application web sur l'\u00e9cran d'accueil : Appuyez %icon et s\u00e9lectionnez <strong>Ajouter sur l'\u00e9cran d'accueil</strong>.",android:'Pour ajouter cette application web sur l\'\u00e9cran d\'accueil : Appuyez sur le bouton "menu", puis sur <strong>Ajouter sur l\'\u00e9cran d\'accueil</strong>. <small>Le menu peut-\u00eatre accessible en appyant sur le bouton "menu" du t\u00e9l\u00e9phone s\'il en poss\u00e8de un <i class="fa fa-bars"></i>. Sinon, il se trouve probablement dans la coin sup\u00e9rieur droit du navigateur %icon.</small>'},
he_il:{ios:'<span dir="rtl">\u05dc\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea: \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc %icon \u05d5\u05d0\u05d6 <strong>\u05d4\u05d5\u05e1\u05e3 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea</strong>.</span>',android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},
hu_hu:{ios:"Ha hozz\u00e1 szeretn\u00e9 adni ezt az alkalmaz\u00e1st a kezd\u0151k\u00e9perny\u0151j\u00e9hez, \u00e9rintse meg a k\u00f6vetkez\u0151 ikont: %icon , majd a <strong>Hozz\u00e1ad\u00e1s a kezd\u0151k\u00e9perny\u0151h\u00f6z</strong> men\u00fcpontot.",android:"Ha hozz\u00e1 szeretn\u00e9 adni ezt az alkalmaz\u00e1st a kezd\u0151k\u00e9perny\u0151j\u00e9hez, a b\u00f6ng\u00e9sz\u0151 men\u00fcj\u00e9ben kattintson a <strong>Hozz\u00e1ad\u00e1s a kezd\u0151k\u00e9perny\u0151h\u00f6z</strong> men\u00fcpontra. <small>A b\u00f6ng\u00e9sz\u0151 men\u00fcj\u00e9t a k\u00f6vetkez\u0151 ikon meg\u00e9rint\u00e9s\u00e9vel tudja megnyitni: %icon.</small>"},
it_it:{ios:"Per aggiungere questa web app alla schermata iniziale: premi %icon e poi <strong>Aggiungi a Home</strong>.",android:"Per aggiungere questa web app alla schermata iniziale, apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno, oppure premendo l'icona %icon in alto a destra.</small>"},ja_jp:{ios:"\u3053\u306e\u30a6\u30a7\u30d7\u30a2\u30d7\u30ea\u3092\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b%icon\u3092\u62bc\u3057\u3066<strong>\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0</strong>\u3002",
android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},ko_kr:{ios:"\ud648 \ud654\uba74\uc5d0 \ubc14\ub85c\uac00\uae30 \uc0dd\uc131: %icon \uc744 \ud074\ub9ad\ud55c \ud6c4 <strong>\ud648 \ud654\uba74\uc5d0 \ucd94\uac00</strong>.",android:"\ube0c\ub77c\uc6b0\uc800 \uc635\uc158 \uba54\ub274\uc758 <string>\ud648 \ud654\uba74\uc5d0 \ucd94\uac00</string>\ub97c \ud074\ub9ad\ud558\uc5ec \ud648\ud654\uba74\uc5d0 \ubc14\ub85c\uac00\uae30\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. <small>\uc635\uc158 \uba54\ub274\ub294 \uc7a5\uce58\uc758 \uba54\ub274 \ubc84\ud2bc\uc744 \ub204\ub974\uac70\ub098 \uc624\ub978\ucabd \uc0c1\ub2e8\uc758 \uba54\ub274 \uc544\uc774\ucf58 %icon\uc744 \ud074\ub9ad\ud558\uc5ec \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</small>"},
nb_no:{ios:"For \u00e5 installere denne appen p\u00e5 hjem-skjermen: trykk p\u00e5 %icon og deretter <strong>Legg til p\u00e5 Hjem-skjerm</strong>.",android:"For \u00e5 legge til denne webappen p\u00e5 startsiden \u00e5pner en nettlesermenyen og velger <strong>Legg til p\u00e5 startsiden</strong>. <small>Menyen \u00e5pnes ved \u00e5 trykke p\u00e5 den fysiske menyknappen hvis enheten har det, eller ved \u00e5 trykke p\u00e5 menyikonet \u00f8verst til h\u00f8yre %icon.</small>"},pt_br:{ios:"Para adicionar este app \u00e0 tela de in\u00edcio: clique %icon e ent\u00e3o <strong>Tela de in\u00edcio</strong>.",
android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},pt_pt:{ios:"Para adicionar esta app ao ecr\u00e3 principal: clique %icon e depois <strong>Ecr\u00e3 principal</strong>.",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},
nl_nl:{ios:"Om deze webapp op je telefoon te installeren, klik op %icon en dan <strong>Zet in beginscherm</strong>.",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},ru_ru:{ios:'\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442 \u043d\u0430 \u0441\u0432\u043e\u0439 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u044d\u043a\u0440\u0430\u043d, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0438\u043a\u043e\u043d\u043a\u0443 %icon \u0438 \u0437\u0430\u0442\u0435\u043c <strong>\u041d\u0430 \u044d\u043a\u0440\u0430\u043d "\u0414\u043e\u043c\u043e\u0439"</strong>.',
android:"\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0430\u0439\u0442 \u043d\u0430 \u0441\u0432\u043e\u0439 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u044d\u043a\u0440\u0430\u043d, \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u043c\u0435\u043d\u044e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 <strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u044b\u0439 \u044d\u043a\u0440\u0430\u043d</strong>. <small>\u041c\u0435\u043d\u044e \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043c\u0435\u043d\u044e \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0435\u0441\u0442\u044c. \u0418\u043b\u0438 \u043d\u0430\u0439\u0434\u0438\u0442\u0435 \u0438\u043a\u043e\u043d\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443 \u0441\u043f\u0440\u0430\u0432\u0430 %icon[\u0438\u043a\u043e\u043d\u043a\u0430].</small>"},
sv_se:{ios:"F\u00f6r att l\u00e4gga till denna webbapplikation p\u00e5 hemsk\u00e4rmen: tryck p\u00e5 %icon och d\u00e4refter <strong>L\u00e4gg till p\u00e5 hemsk\u00e4rmen</strong>.",android:"F\u00f6r att l\u00e4gga till den h\u00e4r webbappen p\u00e5 hemsk\u00e4rmen \u00f6ppnar du webbl\u00e4sarens alternativ-meny och v\u00e4ljer <strong>L\u00e4gg till p\u00e5 startsk\u00e4rmen</strong>. <small>Man hittar menyn genom att trycka p\u00e5 h\u00e5rdvaruknappen om din enhet har en s\u00e5dan, eller genom att trycka p\u00e5 menyikonen h\u00f6gst upp till h\u00f6ger %icon.</small>"},
zh_cn:{ios:"\u5982\u8981\u628a\u5e94\u7528\u7a0b\u5e8f\u52a0\u81f3\u4e3b\u5c4f\u5e55,\u8bf7\u70b9\u51fb%icon, \u7136\u540e<strong>\u6dfb\u52a0\u5230\u4e3b\u5c4f\u5e55</strong>",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},zh_tw:{ios:"\u5982\u8981\u628a\u61c9\u7528\u7a0b\u5f0f\u52a0\u81f3\u4e3b\u5c4f\u5e55, \u8acb\u9ede\u64ca%icon, \u7136\u5f8c<strong>\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>.",
android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"}};for(var w in c.intl)c.intl[w.substr(0,2)]=c.intl[w];c.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,
icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};w=a.navigator.userAgent;var J=a.navigator;e(c,{hasToken:"#ath"==b.location.hash||h.test(b.location.href)||q.test(b.location.search),isRetina:a.devicePixelRatio&&1<a.devicePixelRatio,isIDevice:/iphone|ipod|ipad/i.test(w),isMobileChrome:-1<w.indexOf("Android")&&/Chrome\/[.0-9]*/.test(w)&&-1==w.indexOf("Version"),isMobileIE:-1<w.indexOf("Windows Phone"),language:J.language&&
J.language.toLowerCase().replace("-","_")||""});c.language=c.language&&c.language in c.intl?c.language:"en_us";c.isMobileSafari=c.isIDevice&&-1<w.indexOf("Safari")&&0>w.indexOf("CriOS");c.OS=c.isIDevice?"ios":c.isMobileChrome?"android":c.isMobileIE?"windows":"unsupported";c.OSVersion=w.match(/(OS|Android) (\d+[_\.]\d+)/);c.OSVersion=c.OSVersion&&c.OSVersion[2]?+c.OSVersion[2].replace("_","."):0;c.isStandalone="standalone"in a.navigator&&a.navigator.standalone;c.isTablet=c.isMobileSafari&&-1<w.indexOf("iPad")||
c.isMobileChrome&&0>w.indexOf("Mobile");c.isCompatible=c.isMobileSafari&&6<=c.OSVersion||c.isMobileChrome;var x={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};c.removeSession=function(a){try{if(!localStorage)throw Error("localStorage is not defined");localStorage.removeItem(a||c.defaults.appID)}catch(b){}};c.doLog=function(a){this.options.logging&&console.log(a)};c.Class=function(d){this.doLog=c.doLog;this.options=e({},c.defaults);e(this.options,d);d&&d.debug&&"undefined"===
typeof d.logging&&(this.options.logging=!0);if(g)if(this.options.mandatory=this.options.mandatory&&("standalone"in a.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=!0===this.options.detectHomescreen?"hash":this.options.detectHomescreen,this.options.debug&&(c.isCompatible=!0,c.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==c.OS?"android":c.OS,c.OSVersion=
"ios"==c.OS?"8":"4"),this.container=b.documentElement,this.session=(this.session=this.getItem(this.options.appID))?JSON.parse(this.session):void 0,!c.hasToken||c.isCompatible&&this.session||(c.hasToken=!1,f()),c.isCompatible){this.session=this.session||x;try{if(!localStorage)throw Error("localStorage is not defined");localStorage.setItem(this.options.appID,JSON.stringify(this.session));c.hasLocalStorage=!0}catch(l){c.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}d=!this.options.validLocation.length;
for(var h=this.options.validLocation.length;h--;)if(this.options.validLocation[h].test(b.location.href)){d=!0;break}this.getItem("addToHome")&&this.optOut();if(this.session.optedout)this.doLog("Add to homescreen: not displaying callout because user opted out");else if(this.session.added)this.doLog("Add to homescreen: not displaying callout because already added to the homescreen");else if(d)if(c.isStandalone)this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&c.hasLocalStorage&&
this.options.onAdd.call(this)),this.doLog("Add to homescreen: not displaying callout because in standalone mode");else{if(this.options.detectHomescreen){if(c.hasToken){f();this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&c.hasLocalStorage&&this.options.onAdd.call(this));this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen");return}"hash"==this.options.detectHomescreen?history.replaceState("",a.document.title,
b.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",a.document.title,b.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",a.document.title,b.location.href+(b.location.search?"&":"?")+"ath=")}if(!this.session.returningVisitor&&(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit)){this.doLog("Add to homescreen: not displaying callout because skipping first visit");return}this.options.privateModeOverride||c.hasLocalStorage?
(this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&(this.doLog("Add to homescreen: autostart displaying callout"),this.show())):this.doLog("Add to homescreen: not displaying callout because browser is in private mode")}else this.doLog("Add to homescreen: not displaying callout because not a valid location")}else this.doLog("Add to homescreen: not displaying callout because device not supported")};c.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",
orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(a){var c=this.events[a.type];if(c)this[c](a)},show:function(e){if(this.options.autostart&&!l)setTimeout(this.show.bind(this),50);else if(this.shown)this.doLog("Add to homescreen: not displaying callout because already shown on screen");else{var d=Date.now(),f=this.session.lastDisplayTime;
if(!0!==e){if(!this.ready){this.doLog("Add to homescreen: not displaying callout because not ready");return}if(d-f<6E4*this.options.displayPace){this.doLog("Add to homescreen: not displaying callout because displayed recently");return}if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount){this.doLog("Add to homescreen: not displaying callout because displayed too many times already");return}}this.shown=!0;this.session.lastDisplayTime=d;this.session.displayCount++;
this.updateSession();this.applicationIcon||(this.applicationIcon="ios"==c.OS?b.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):b.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));e="";"object"==typeof this.options.message&&c.language in this.options.message?
e=this.options.message[c.language][c.OS]:"object"==typeof this.options.message&&c.OS in this.options.message?e=this.options.message[c.OS]:this.options.message in c.intl?e=c.intl[this.options.message][c.OS]:""!==this.options.message?e=this.options.message:c.OS in c.intl[c.language]&&(e=c.intl[c.language][c.OS]);e="<p>"+e.replace(/%icon(?:\[([^\]]+)\])?/gi,function(a,c){return'<span class="ath-action-icon">'+(c?c:"icon")+"</span>"});NaN;this.viewport=b.createElement("div");this.viewport.className="ath-viewport";
this.options.modal&&(this.viewport.className+=" ath-modal");this.options.mandatory&&(this.viewport.className+=" ath-mandatory");this.viewport.style.position="absolute";this.element=b.createElement("div");this.element.className="ath-container ath-"+c.OS+" ath-"+c.OS+(c.OSVersion+"").substr(0,1)+" ath-"+(c.isTablet?"tablet":"phone");this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;";
this.element.style.webkitTransform="translate3d(0,-"+a.innerHeight+"px,0)";this.element.style.transform="translate3d(0,-"+a.innerHeight+"px,0)";this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=b.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img));this.element.innerHTML+=e;this.viewport.style.left=
"-99999em";this.viewport.appendChild(this.element);this.container.appendChild(this.viewport);this.img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()}},_delayedShow:function(a){setTimeout(this._show.bind(this),1E3*this.options.startDelay+500)},_show:function(){var c=this;this.updateViewport();a.addEventListener("resize",this,!1);a.addEventListener("scroll",this,!1);a.addEventListener("orientationchange",this,!1);this.options.modal&&b.addEventListener("touchmove",
this,!0);this.options.mandatory||setTimeout(function(){c.element.addEventListener("click",c,!0)},1E3);setTimeout(function(){c.element.style.webkitTransitionDuration="1.2s";c.element.style.transitionDuration="1.2s";c.element.style.webkitTransform="translate3d(0,0,0)";c.element.style.transform="translate3d(0,0,0)"},0);this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1E3*this.options.lifespan));this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer);
this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1));a.removeEventListener("resize",this,!1);a.removeEventListener("scroll",this,!1);a.removeEventListener("orientationchange",this,!1);b.removeEventListener("touchmove",this,!0);this.element.removeEventListener("click",this,!0);this.element.addEventListener("transitionend",this,!1);this.element.addEventListener("webkitTransitionEnd",this,!1);this.element.addEventListener("MSTransitionEnd",this,!1);this.element.style.webkitTransitionDuration=
"0.3s";this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1);this.element.removeEventListener("webkitTransitionEnd",this,!1);this.element.removeEventListener("MSTransitionEnd",this,!1);this.container.removeChild(this.viewport);this.shown=!1;this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=a.innerWidth+"px";this.viewport.style.height=a.innerHeight+"px";this.viewport.style.left=
a.scrollX+"px";this.viewport.style.top=a.scrollY+"px";var e=b.documentElement.clientWidth;this.orientation=e>b.documentElement.clientHeight?"landscape":"portrait";var d="ios"==c.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>e?1:d/a.innerWidth;this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer);this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){!1!==
c.hasLocalStorage&&localStorage&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=x;this.updateSession()},getItem:function(a){try{if(!localStorage)throw Error("localStorage is not defined");return localStorage.getItem(a)}catch(b){c.hasLocalStorage=!1}},optOut:function(){this.session.optedout=!0;this.updateSession()},optIn:function(){this.session.optedout=!1;this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0;this.updateSession()},
_preventDefault:function(a){a.preventDefault();a.stopPropagation()}};a.addToHomescreen=c})(window,document);$(document).bind("mobileinit",function(){$.mobile.ajaxEnabled=!1;$.autoInitializePage=!0});
function showFooterMessage(a){"undefined"!=a.status?"success"==a.status?$("prefooter > .container").html('<p style="background: #128c44; color: #fff; padding: 20px;><span class="circle-ok"><span class="glyphicon glyphicon-ok" style="margin-right:10px;"></span></span>'+a.mess+"</p>"):"alert"==a.status&&$("prefooter > .container").html('<p style="background: #fcaa57; color: #fff; padding: 20px;"><span class="circle-alert" style="margin-right:10px;"><span>!</span></span>'+a.mess+"</p>"):($("prefooter > .container").html('<p style="">'+
a.mess+"</p>"),$("prefooter > .container p").css("background",a.clr),$("prefooter > .container p").css("color",a.clrT),$("prefooter > .container p").css("padding","20px"));$("prefooter").show();$("prefooter").delay(a.anim_a).fadeOut(a.anim_b,function(){$("prefooter").hide();a.onFinish&&eval(a.onFinish)})}
function appendFooterMessage(a){"undefined"!=a.status?"success"==a.status?$("prefooter > .container").append('<p style="background: #128c44; color: #fff; padding: 20px;><span class="circle-ok"><span class="glyphicon glyphicon-ok"></span></span>'+a.mess+"</p>"):"alert"==a.status&&$("prefooter > .container").append('<p style="background: #fcaa57; color: #fff; padding: 20px;><span class="circle-alert"><span>!</span></span>'+a.mess+"</p>"):($("prefooter > .container").append('<p style="">'+a.mess+"</p>"),
$("prefooter > .container p").css("background",a.clr),$("prefooter > .container p").css("color",a.clrT),$("prefooter > .container p").css("padding","20px"));$("prefooter").show().delay(1700);$("prefooter").delay(a.anim_a).fadeOut(a.anim_b,function(){$("prefooter").hide();a.onFinish&&eval(a.onFinish)})}
$(document).ready(function(){$("prefooter").hide();$(".int_less_publish").change(function(){var a=$("form#int_lesson_form").serialize();$.ajax({url:"/ajax/interactive_lessons_ajax/save_publish/",dataType:"json",type:"POST",data:a,success:function(a){}})});$("a.template_id").click(function(a){a.preventDefault();a=$(this).attr("id").replace("template_","");$("div.ui-controlgroup-controls").find("a.active_template").removeClass("active_template");$(this).addClass("active_template");$("input#tmpl_id").val(a)});
var a=$("input#tmpl_id").val();""!==a&&$("#template_"+a).addClass("active_template");$(".add_question a").on("click",function(a){a.preventDefault();var d=$(".hidden.question_box:first").clone(!0,!0);a=$("input.subject_id").val();var c=$("input.module_id").val(),e=$("input.lesson_id").val();$("input.int_les_id").val();var f=$("input.int_assessment_id").val();$("#questions_wrap").append(d);d=parseInt($("#questions_wrap .question_box").last().index());$("#questions_wrap .question_box").last().find("input.question_text").attr("name",
"questions["+d+"][question_text]");$("#questions_wrap .question_box").last().find("input.question_id").attr("name","questions[question]["+d+"][question_id]");$("#questions_wrap .question_box").last().find("input.resource_id").attr("name","questions["+d+"][question_resource_id]");$("#questions_wrap .question_box").last().find("a.add_q_ressource").attr("href","/c1/index/question/"+d+"/"+a+"/"+c+"/"+e+"/"+f);$(".question_box").last().removeClass("hidden")});$(".add_option").on("click",function(a){a.preventDefault();
var d=$(this).parent().parent().find("input.add_option_text");a=d.val();$(d).val("");d=$(this).parent().parent().parent().find(".q_options_list").children().length;if(10>=d){var c=$(this).parent().parent().parent().find(".hidden.q_option").clone();$.each(c.find("select"),function(a,c){var b=$(this);a=b.attr("id");a++;b.attr("id",a);b.slider();b.slider("refresh");b.parent().find(".ui-slider").last().remove()});var e=$(this).parent().parent().parent().find(".q_options_list");$(e).append(c);$(this).parent().parent().parent().find(".q_options_list .q_option:last input.option_text").val(a);
a=parseInt($(this).parent().parent().parent().parent(".question_box").index());$(this).parent().parent().parent().find(".q_options_list .q_option:last input.option_text").attr("name","questions["+a+"][answers]["+(parseInt(d)-1)+"][answer_text]");$(this).parent().parent().parent().find(".q_options_list .q_option:last select.answer").attr("name","questions["+a+"][answers]["+(parseInt(d)-1)+"][answer_true]");$(this).parent().parent().parent().find(".q_options_list .q_option:last").removeClass("hidden")}});
$(document).on("click",".delete_option",function(a){a.preventDefault();$(this).parent().parent(".q_option").remove()});$("a.add_q_ressource").click(function(a){a.preventDefault();a=$("form#int_assessment_form").serialize();var d=$(this).attr("href");$.ajax({url:"/ajax/int_assessment_ajax/save_temp_data/",dataType:"json",type:"POST",data:a,success:function(a){a.success&&(window.location.href=d)}})});$(".colorbox").colorbox({photo:!0,maxWidth:"100%",maxHeight:"100%",onCleanup:function(){$("a.cdownload").remove()},
onClosed:function(){$("a.cdownload").remove()}});"student"==user_type?intervalRes=setInterval(function(){checkRunningLesson()},3E3):"teacher"==user_type?(intervalRes=setInterval(function(){checkRunningLessonForTeacher()},5E3),setInterval(function(){checkOnlineStudents()},5E3)):-1!=window.location.href.indexOf("/e5_teacher")&&-1!=window.location.href.indexOf("/running")&&setInterval(function(){checkOnlineStudents()},5E3);$(".add_option_text").keypress(function(a){if(13==a.which)return a=$(this).parent().parent().parent().find(".add_option"),
$(a).click(),!1});$.each($("textarea[data-autoresize]"),function(){var a=this.offsetHeight-this.clientHeight;$(this).on("keyup input",function(){$(this).css("height","auto").css("height",this.scrollHeight+a);0==$(this).val().length&&$(this).css({height:"62px"})}).removeAttr("data-autoresize")});$("textarea").each(function(){$(this).outerHeight()}).on("keyup",function(){var a=this.scrollHeight,d=$(this).outerHeight();a+2>d&&$(this).scrollTop(0).css({height:a+2+"px"})});$(".keywords").each(function(){var a=
this,d=$(a),c=$("> input",a),e=c.val();ke=e.slice(1,-1);var e=ke.split(","),f=function(e,d){if(e){if(!d){var f=c.val(),f=f.split(",");f.push(e);f=f.join();f=f.toString();f=f.replace(/[\])}[{(]/g,"");c.val(f)}$(".input-container",a).before('<div class="keyword"><span>'+e+'</span><a class="remove"></a></div>');$(".list").html("")}};c.css({display:"none"});d.append('<div class="input-container"><input value="" type="text"><div><div class="list"></div>');e.length&&$.each(e,function(a,c){f(c,!0)});d.on("keyup",
".input-container input",function(){var a=$(this).val(),c=d.data("to");c&&clearTimeout(c);c=!1;a&&(c=setTimeout(function(){$.ajax({url:"/c2/suggestKeywords",data:{q:a},dataType:"json",success:function(a){var c="";$.each(a,function(a,b){c+="<li>"+b+"</li>"});$(".list").html("<ul>"+c+"</ul>")}})},200),d.data("to",c))}).on("keydown",".input-container input",function(a){var c=$(this).val();13==a.keyCode&&c&&($(this).val(""),f(c))}).on("click",".list li",function(){var c=$(this).text();c&&($(".input-container input",
a).val(""),f(c))}).on("click",".keyword .remove",function(){var a=c.val(),a=a.split(","),a=a.toString(),a=a.replace(/[\])}[{(]/g,""),a=a.split(","),b=$(this).parent().index()-2;a.splice(b,1);c.val(a);$(this).parent().remove();$(".list").html("")});$(document).click(function(a){var c=$(".input-container input").val();""!=c&&(f(c),$(".input-container input").val(""));void 0===$(a.target).closest("li")[0]&&$(".list").html("")})});$(".keystudents").each(function(){var a=this,d=$(a),c=$("> input#keystudents",
a),e=c.val();kest1=e.slice(1,-1);var e=kest1.split(","),f=function(e,d,f){e&&(f||(f=c.val(),c.val(f+","+d)),$(".input-container",a).before('<div class="keystudent"><span>'+e+'</span><a rel="'+d+'" class="remove"></a></div>'),$(".list").html(""))};d.append('<div class="input-container"><input value="" type="text"><div><div class="list"></div>');d.on("keyup",".input-container input",function(){var a=$(this).val(),c=d.data("to");c&&clearTimeout(c);c=!1;a&&(c=setTimeout(function(){$.ajax({url:"/f2c_teacher/suggestKeystudents",
data:{q:a},dataType:"json",success:function(a){var c="";$.each(a,function(a,b){c+='<li rel="'+a+'">'+b+"</li>"});$(".list").html("<ul>"+c+"</ul>");updateSlideHeight(".step.s3")}})},200),d.data("to",c))}).on("keydown",".input-container input",function(a){var c=$(this).val(),b=$(this).attr("rel");13==a.keyCode&&c&&($(this).val(""),f(c,b))}).on("click",".list li",function(){var c=$(this).text(),e=$(this).attr("rel");c&&($(".input-container input",a).val(""),f(c,e))}).on("click",".keystudent .remove",
function(){var a=c.val(),a=a.split(","),a=a.toString(),a=a.replace(/[\])}[{(]/g,""),a=a.split(","),b=$(this).parent().index()-2;a.splice(b,1);c.val(a);$(this).parent().remove();$(".list").html("")});$(document).click(function(a){var c=$(".input-container input").val();""!=c&&(f(c),$(".input-container input").val(""));void 0===$(a.target).closest("li")[0]&&$(".list").html("")})});$("select").each(function(){$(this).hasClass("customize")||($(this).addClass("customize"),$(this).after('<span class="select"><span class="v">'+
$("option:selected",this).text()+'</span><span class="a"></span></span>'),$(this).appendTo($(this).next()))});$("span.select select").on("change",function(){$(this).closest(".select").find(".v").text($("option:selected",this).text())})});$(window).load(function(){bg_fix()});$(window).resize(function(){bg_fix()});
function initPublishButton(a,b,d,c){$(a).each(function(){$("input[name="+b+"]").size()&&"1"==$("input[name="+b+"]").val()&&$(this).addClass("active").text(d);$(this).off("click");$(this).on("click",function(){0==disablepublishandsave&&$("input[name="+b+"]").size()&&("1"==$("input[name="+b+"]").val()?($("input[name="+b+"]").val("0"),$(this).removeClass("active").text(c)):($("input[name="+b+"]").val("1"),$(this).addClass("active").text(d)))})})}
function bg_fix(){$(".blue_gradient_bg").height()-parseInt($(".blue_gradient_bg").css("margin-top"))-$("footer").height()-parseInt($("footer").css("border-top-width"))<$(window).height()&&$(".blue_gradient_bg").css("min-height",parseInt($(window).height()-$("footer").height()-parseInt($("footer").css("border-top-width"))-parseInt($(".blue_gradient_bg").css("margin-top")))+"px");$(".red_gradient_bg").height()<$(window).height()&&$(".red_gradient_bg").css("min-height",parseInt($(window).height()-42-
$(".footer_menu").height())+"px");$(".rred_gradient_bg").height()<$(window).height()&&$(".rred_gradient_bg").css("min-height",parseInt($(window).height())+"px");$(".ui-header>.ui-btn-right").css("left",parseInt($(".ui-header").width()/2-$(".ui-header>.ui-btn-right").width()/2)+"px");768<$(window).width()?$(".left_menu_pic").css("height",$(".pic_e5").height()+"px"):$(".left_menu_pic").css("height","auto")}
function getPathnameParts(){var a=window.location.pathname;"/"==a.substr(0,1)&&(a=a.substr(1));return a.split("/")}
function checkRunningLesson(){set_logout();$.ajax({url:"/ajax/running_lesson/index/"+user_id,dataType:"json",success:function(a){if(void 0!==a.subject_id&&void 0!==a.module_id&&void 0!==a.lesson_id&&void 0!==a.secret)if(-1==window.location.href.indexOf("/running")){var b=function(){var c=((new Date).getTime()-d)/1E3;5>c?$("#dialog_title").html('Taking you to interactive lesson: <br /><span style="color:#004400;text-shadow:none;font-weight:bold;font-size:58px;font-style: italics;">'+a.lesson_title+
"</span><br /> with "+a.teacher_first_name+" "+a.teacher_last_name+" in "+Math.floor(5-c)+" seconds..."):(clearInterval(intervalRes),window.location.href="/e5_student/index/"+a.subject_id+"/"+a.module_id+"/"+a.lesson_id+"/1/running#/")};clearInterval(intervalRes);$("#staticheader").css("background-color","#009900");$(".gray_top_field").css("background-color","#004400");$("#dialog_title").html("title");$("#dialog").show();var d=(new Date).getTime();b();intervalRes=setInterval(function(){b()},800)}else-1==
window.location.href.indexOf("/e5_student/index/"+a.subject_id+"/"+a.module_id+"/"+a.lesson_id+"/1/running#/")&&(window.location.href="/e5_student/index/"+a.subject_id+"/"+a.module_id+"/"+a.lesson_id+"/1/running#/");else-1!=window.location.href.indexOf("/running")&&void 0!==a.free_preview&&(window.location.href="/e5_student/index/"+a.subject_id+"/"+a.module_id+"/"+a.lesson_id+"/1")},error:function(a){}})}
function checkRunningLessonForTeacher(){set_logout();$.ajax({url:"/ajax/running_lesson_t/index/"+user_id,dataType:"json",success:function(a){var b=a.running_page-1;if(void 0!==a.subject_id&&void 0!==a.module_id&&void 0!==a.lesson_id&&void 0!==a.running_page&&-1==window.location.href.indexOf("/running")){var d=function(){var e=((new Date).getTime()-c)/1E3;5>e?$("#dialog_title").html('Returning you to your open interactive lesson: <br /><span style="color:#004400;text-shadow:none;font-weight:bold;font-size:58px;font-style: italics;">'+
a.lesson_title+"</span><br /> in "+Math.floor(5-e)+" seconds..."):(clearInterval(intervalRes),window.location.href="/e5_teacher/index/"+a.subject_id+"/"+a.module_id+"/"+a.lesson_id+"/1/running#/"+b)};clearInterval(intervalRes);$("#staticheader").css("background-color","#009900");$(".gray_top_field").css("background-color","#004400");$("#dialog_title").html("title");$("#dialog").show();var c=(new Date).getTime();d();intervalRes=setInterval(function(){d()},800)}}})}
function checkOnlineStudents(){var a=getPathnameParts()[5];$.ajax({url:"/ajax/online_students/index/"+a,dataType:"json",success:function(a){$("#studentlist .student.online1").removeClass("online1").addClass("online0");for(index in a)$("#studentlist #student_"+a[index]).removeClass("online0").addClass("online1")}});var b=new Date,a=b.getHours();10>a&&(a="0"+a);b=b.getMinutes();10>b&&(b="0"+b);$("#student_list #clock").html(a+":"+b)}
function change_res(a){1==a?($("#all_resources").addClass("hidden"),$("#my_resources").removeClass("hidden"),$("#all_resources_button").removeClass("hidden"),$("#my_resources_button").addClass("hidden")):($("#my_resources").addClass("hidden"),$("#all_resources").removeClass("hidden"),$("#all_resources_button").addClass("hidden"),$("#my_resources_button").removeClass("hidden"))}
function loadTinymce(){tinymce.init({selector:"textarea.mce-toolbar-grp",theme:"modern",mode:"exact",plugins:"pagebreak table save charmap media contextmenu paste directionality noneditable visualchars nonbreaking spellchecker template",toolbar:" bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link | table |",menu:{},setup:function(a){a.on("init",function(){this.getDoc().body.style.fontSize="14px";this.getDoc().body.style.letterSpacing="0.8px";this.getDoc().body.style.lineHeight=
"24px"});a.on("change",function(){tinymce.triggerSave()});a.on("submit",function(b){a.getElement().value=a.getContent()})},contextmenu:"cut copy paste",menubar:!0,statusbar:!1,toolbar_item_size:"normal"})}
function loadTinymceStudent(){tinymce.init({selector:"textarea.mce-toolbar-grp",theme:"modern",readonly:1,mode:"exact",plugins:"",toolbar:"|",menu:{},setup:function(a){a.on("init",function(){this.getDoc().body.style.fontSize="14px";this.getDoc().body.style.letterSpacing="0.8px";this.getDoc().body.style.lineHeight="24px"});a.on("change",function(){tinymce.triggerSave()});a.on("submit",function(b){a.getElement().value=a.getContent()})},contextmenu:"cut copy paste",menubar:!0,statusbar:!1,toolbar_item_size:"normal"})}
function loadTinymceSlider(){tinymce.init({selector:"textarea.mce-toolbar-grp",theme:"modern",mode:"exact",plugins:"pagebreak table save charmap media contextmenu paste directionality noneditable visualchars nonbreaking spellchecker template",toolbar:" bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link | table |",menu:{},setup:function(a){a.on("init",function(){this.getDoc().body.style.fontSize="14px";this.getDoc().body.style.letterSpacing="0.8px";
this.getDoc().body.style.lineHeight="24px";updateSlideHeight(".step.s1")});a.on("change",function(){tinymce.triggerSave()})},contextmenu:"cut copy paste",menubar:!0,statusbar:!1,toolbar_item_size:"normal"})}
function validate(){var a=[];$("input, select, textarea").each(function(b,d){var c=$(this);if($(c).hasClass("required"))if(""==c.val().trim()||void 0===c.val()){c.css({border:"1px dashed red"});var e=c.attr("data-validation-required-message");c.prev("span").attr("id","scrolled");c.prev("span").html("").removeClass("tip2").addClass("tip2").append(e).css({display:"block"});$("html, body").animate({scrollTop:$("#scrolled").stop().offset().top-500},300);c.prev("span").removeAttr("scrolled");a[0]=1}else void 0!==
c.attr("minlength")&&c.val().length<c.attr("minlength")&&(c.css({border:"1px dashed red"}),c.prev("span").attr("id","scrolled"),e="This must be at least "+c.attr("minlength")+" characters long",c.prev("span").html("").removeClass("tip2").addClass("tip2").append(e).css({display:"block"}),$("html, body").animate({scrollTop:$("#scrolled").stop().offset().top-500},300),c.prev("span").removeAttr("scrolled"),a[0]=1);c.on("focus",function(){c.prev("span.tip2").fadeOut("3333");c.css({"border-color":"#c8c8c8",
"border-width":"1px","border-style":"solid"})})});0===a.length?($("input:text, textarea").each(function(){$(this).val(this.value)}),a=[],$(".hidden_submit").click()):a=[]}
function validate_slider(a){var b=[];1==a&&$("input, select").each(function(a,c){var e=$(this);if($(e).hasClass("required"))if(""==e.val().trim()||void 0===e.val()){e.css({border:"1px dashed red"});var f=e.attr("data-validation-required-message");e.prev("span").attr("id","scrolled");e.prev("span").html("").removeClass("tip2").addClass("tip2").append(f).css({display:"block"});e.prev("span").removeAttr("scrolled");b[a]=1}else void 0!==e.attr("minlength")&&e.val().length<e.attr("minlength")&&(e.css({border:"1px dashed red"}),
e.prev("span").attr("id","scrolled"),f="This must be at least "+e.attr("minlength")+" characters long",e.prev("span").html("").removeClass("tip2").addClass("tip2").append(f).css({display:"block"}),e.prev("span").removeAttr("scrolled"),b[a]=1);e.on("focus",function(){e.prev("span.tip2").fadeOut("3333");e.css({"border-color":"#c8c8c8","border-width":"1px","border-style":"solid"})})});if(0===b.length)return $("input:text, textarea").each(function(){$(this).val(this.value)}),b=[],0;b=[];return 1}
function validate_as_draft(a){var b=[],d=$("#assignment_title");if(1==a){if(""==d.val().trim()||void 0===d.val())d.css({border:"1px dashed red"}),a=d.attr("data-validation-required-message"),d.prev("span").attr("id","scrolled"),d.prev("span").html("").removeClass("tip2").addClass("tip2").append(a).css({display:"block"}),d.prev("span").removeAttr("scrolled"),b[0]=1;d.on("focus",function(){d.prev("span.tip2").fadeOut("3333");d.css({"border-color":"#c8c8c8","border-width":"1px","border-style":"solid"})})}if(0===
b.length)return b=[],0;b=[];return 1}
function validate_to_publish(a){var b=1;a=$(".pdatepicker").datepicker("getDate").getTime();864E5>$(".datepicker").datepicker("getDate").getTime()-a&&(opdate=$("#publish_date"),oddate=$("#deadline_date"),oddate.css({border:"1px dashed #fcaa57"}),a=oddate.attr("data-validation-required-message"),oddate.prev("span").attr("id","scrolled"),oddate.prev("span").html("").removeClass("tip3").addClass("tip3").append(a).css({display:"block"}),oddate.prev("span").removeAttr("scrolled"),b=1);"offline"!=$("#grade_type").val()&&
(0<$("#grade_categories_holder tr").length?(""!=$(".add_cat #catg").val().trim()?$(".add_cat #mark").addClass("required"):$(".add_cat #mark").removeClass("required"),$("#grade_categories_holder .catg").addClass("required"),$("#grade_categories_holder .mark").addClass("required")):""!=$(".add_cat #catg").val().trim()?$(".add_cat #mark").addClass("required"):$(".add_cat #mark").removeClass("required"));$("input, select").each(function(a,c){var e=$(this);if($(e).hasClass("required"))if(""==e.val().trim()||
void 0===e.val()){e.css({border:"1px dashed red"});var f=e.attr("data-validation-required-message");e.prev("span").attr("id","scrolled");e.prev("span").html("").removeClass("tip2").addClass("tip2").append(f).css({display:"block"});e.prev("span").removeAttr("scrolled");b=0}else void 0!==e.attr("minlength")&&e.val().length<e.attr("minlength")&&(e.css({border:"1px dashed red"}),e.prev("span").attr("id","scrolled"),f="This must be at least "+e.attr("minlength")+" characters long",e.prev("span").html("").removeClass("tip2").addClass("tip2").append(f).css({display:"block"}),
e.prev("span").removeAttr("scrolled"),b=0);e.on("focus",function(){e.prev("span.tip2").fadeOut("3333");e.prev("span.tip3").fadeOut("3333");e.css({"border-color":"#c8c8c8","border-width":"1px","border-style":"solid"})})});1>$(".classes:checked").length&&""==$("#keystudents").val()&&($(".table4").css({border:"1px dashed red"}),a="You must choose at least one class!",$(".table4").prev("span").attr("id","scrolled"),$(".table4").prev("span").html("").removeClass("tip2").addClass("tip2").append(a).css({display:"block"}),
$(".table4").prev("span").removeAttr("scrolled"),b=0,$(".classes").on("click",function(){$(".table4").prev("span.tip2").fadeOut("3333");$(".table4").css({"border-color":"#c8c8c8","border-width":"1px","border-style":"solid"})}));"offline"!=$("#grade_type").val()&&($("#catg").removeClass("required"),$("#mark").removeClass("required"));return b}
function validate_resource(){var a=[];$("input, select, textarea").each(function(b,d){var c=$(this);if($(c).hasClass("required"))if(""==c.val().trim()||void 0===c.val()){c.css({border:"1px dashed red"});var e=c.attr("data-validation-required-message");c.prev("span").attr("id","scrolled");c.prev("span").html("").removeClass("tip2").addClass("tip2").append(e).css({display:"block"});$("html, body").animate({scrollTop:$("#scrolled").stop().offset().top-500},300);c.prev("span").removeAttr("scrolled");
a[b]=1}else void 0!==c.attr("minlength")&&c.val().length<c.attr("minlength")&&(c.css({border:"1px dashed red"}),c.prev("span").attr("id","scrolled"),e="This must be at least "+c.attr("minlength")+" characters long",c.prev("span").html("").removeClass("tip2").addClass("tip2").append(e).css({display:"block"}),$("html, body").animate({scrollTop:$("#scrolled").stop().offset().top-500},300),c.prev("span").removeAttr("scrolled"),a[b]=1);c.on("focus",function(){c.prev("span.tip2").fadeOut("3333");c.css({"border-color":"#c8c8c8",
"border-width":"1px","border-style":"solid"})})});0===a.length&&($(".red_btn").fadeOut(100),$("#saveform").submit())}
$(function(){$(document).on("click",".up_down",function(a){a=$(this).next(".collapsed");if($(a).hasClass("hidden"))return!1;$(a).is(":visible")?($(this).next(".collapsed").slideUp(400),$(this).css({"background-position":"0 1px"}),$.session.set($(this).next().attr("id"),"none")):($(this).next(".collapsed").slideDown(400,function(){}),$(this).css({"background-position":"0 -36px"}),$.session.set($(this).next().attr("id"),"block"))});$(document).on("click",".acc_title",function(a){a=$(this).next().next(".collapsed");
if($(a).hasClass("hidden"))return!1;$(a).is(":visible")?($(this).next().next(".collapsed").slideUp(400),$(this).next(".up_down").css({"background-position":"0 1px"}),$.session.set($(this).next().next().attr("id"),"none")):($(this).next().next(".collapsed").slideDown(400,function(){}),$(this).next(".up_down").css({"background-position":"0 -36px"}),$.session.set($(this).next().next().attr("id"),"block"))});$(".up_down_homework").click(function(){var a=$(this).next(".collapsed");$(a).is(":visible")?
($(this).next(".collapsed").slideUp(400),$(this).css({"background-position":"0 1px"})):($(this).next(".collapsed").slideDown(400,function(){}),$(this).css({"background-position":"0 -30px"}))});$(".assignment").show()});var timer=0,timer1=0,set_timer=!1,logout_sec=10,activity=72E5;function set_logout(){0==set_timer&&(set_timer=!0,timer=setInterval("auto_logout()",activity),$(".dismiss-logout").on("click",function(){clearInterval(timer1);reset_logout()}))}
function reset_logout(){0!=timer&&(clearInterval(timer),timer=setInterval("auto_logout()",activity),logout_sec=10,$("#dialog_logout .logout_sec").text(logout_sec))}function auto_logout(){$("#dialog_logout").modal("show");timer1=setInterval("auto_logout2()",1E3)}function auto_logout2(){logout_sec--;$("#dialog_logout .logout_sec").text(logout_sec);1>logout_sec&&(window.location.href="/logout/")}
(function(a){a.session={_id:null,_cookieCache:void 0,_init:function(){window.name||(window.name=Math.random());this._id=window.name;this._initCache();var a=(new RegExp(this._generatePrefix()+"=([^;]+);")).exec(document.cookie);if(a&&document.location.protocol!==a[1]){this._clearSession();for(var d in this._cookieCache)try{window.sessionStorage.setItem(d,this._cookieCache[d])}catch(c){}}document.cookie=this._generatePrefix()+"="+document.location.protocol+";path=/;expires="+(new Date((new Date).getTime()+
12E4)).toUTCString()},_generatePrefix:function(){return"__session:"+this._id+":"},_initCache:function(){var a=document.cookie.split(";");this._cookieCache={};for(var d in a){var c=a[d].split("=");(new RegExp(this._generatePrefix()+".+")).test(c[0])&&c[1]&&(this._cookieCache[c[0].split(":",3)[2]]=c[1])}},_setFallback:function(a,d,c){var e=this._generatePrefix()+a+"="+d+"; path=/";c&&(e+="; expires="+(new Date(Date.now()+12E4)).toUTCString());document.cookie=e;this._cookieCache[a]=d;return this},_getFallback:function(a){this._cookieCache||
this._initCache();return this._cookieCache[a]},_clearFallback:function(){for(var a in this._cookieCache)document.cookie=this._generatePrefix()+a+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;";this._cookieCache={}},_deleteFallback:function(a){document.cookie=this._generatePrefix()+a+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;";delete this._cookieCache[a]},get:function(a){return window.sessionStorage.getItem(a)||this._getFallback(a)},set:function(a,d,c){try{window.sessionStorage.setItem(a,
d)}catch(e){}this._setFallback(a,d,c||!1);return this},"delete":function(a){return this.remove(a)},remove:function(a){try{window.sessionStorage.removeItem(a)}catch(d){}this._deleteFallback(a);return this},_clearSession:function(){try{window.sessionStorage.clear()}catch(a){for(var b in window.sessionStorage)window.sessionStorage.removeItem(b)}},clear:function(){this._clearSession();this._clearFallback();return this}};a.session._init()})(jQuery);
(function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()})(this,function(){function a(a,c){var b,e=document.createElement(a||"div");for(b in c)e[b]=c[b];return e}function b(a){for(var c=1,b=arguments.length;b>c;c++)a.appendChild(arguments[c]);return a}function d(a,c,b,e){var d=["opacity",c,~~(100*a),b,e].join("-");b=.01+b/e*100;e=Math.max(1-(1-a)/c*(100-b),a);var f=q.substring(0,q.indexOf("Animation")).toLowerCase();return w[d]||(J.insertRule("@"+
(f&&"-"+f+"-"||"")+"keyframes "+d+"{0%{opacity:"+e+"}"+b+"%{opacity:"+a+"}"+(b+.01)+"%{opacity:1}"+(b+c)%100+"%{opacity:"+a+"}100%{opacity:"+e+"}}",J.cssRules.length),w[d]=1),d}function c(a,c){var b,e,d=a.style;c=c.charAt(0).toUpperCase()+c.slice(1);for(e=0;p.length>e;e++)if(b=p[e]+c,void 0!==d[b])return b;return void 0!==d[c]?c:void 0}function e(a,b){for(var e in b)a.style[c(a,e)||e]=b[e];return a}function f(a){for(var c=1;arguments.length>c;c++){var b=arguments[c],e;for(e in b)void 0===a[e]&&(a[e]=
b[e])}return a}function g(a,c){return"string"==typeof a?a:a[c%a.length]}function l(a){this.opts=f(a||{},l.defaults,x)}function h(){function c(b,e){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}J.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:p+" "+p,coordorigin:-l+" "+-l}),{width:p,height:p})}function h(a,q,k){b(w,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~q}),b(e(c("roundrect",{arcsize:d.corners}),
{width:l,height:d.width,left:d.radius,top:-d.width>>1,filter:k}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var q,l=d.length+d.width,p=2*l;q=2*-(d.width+d.length)+"px";var w=e(f(),{position:"absolute",top:q,left:q});if(d.shadow)for(q=1;d.lines>=q;q++)h(q,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(q=1;d.lines>=q;q++)h(q);return b(a,w)};l.prototype.opacity=function(a,c,b,e){a=a.firstChild;e=e.shadow&&e.lines||0;a&&a.childNodes.length>
c+e&&(a=a.childNodes[c+e],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=b))}}var q,p=["webkit","Moz","ms","O"],w={},J=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),x={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};l.defaults={};f(l.prototype,{spin:function(c){this.stop();var b=
this,d=b.opts,f=b.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});if(d.radius+d.length+d.width,e(f,{left:d.left,top:d.top}),c&&c.insertBefore(f,c.firstChild||null),f.setAttribute("role","progressbar"),b.lines(f,b.opts),!q){var g,h=0,l=(d.lines-1)*(1-d.direction)/2,p=d.fps,w=p/d.speed,x=(1-d.opacity)/(w*d.trail/100),y=w/d.lines;(function O(){h++;for(var a=0;d.lines>a;a++)g=Math.max(1-(h+(d.lines-a)*y)%w*x,d.opacity),b.opacity(f,a*d.direction+l,g,d);b.timeout=b.el&&
setTimeout(O,~~(1E3/p))})()}return b},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(c,f){function h(c,b){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:c,boxShadow:b,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*p+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var l,p=0,k=(f.lines-1)*(1-f.direction)/
2;f.lines>p;p++)l=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:q&&d(f.opacity,f.trail,k+p*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(l,e(h("#000","0 0 4px #000"),{top:"2px"})),b(c,b(l,h(g(f.color,p),"0 0 1px rgba(0,0,0,.1)")));return c},opacity:function(a,c,b){a.childNodes.length>c&&(a.childNodes[c].style.opacity=b)}});var U=e(a("group"),{behavior:"url(#default#VML)"});return!c(U,"transform")&&
U.adj?h():q=c(U,"animation"),l});
(function(a,b){"object"==typeof exports?module.exports=b(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],b):a.Ladda=b(a.Spinner)})(this,function(a){function b(b){if(void 0===b)return console.warn("Ladda button target must be defined."),void 0;b.querySelector(".ladda-label")||(b.innerHTML='<span class="ladda-label">'+b.innerHTML+"</span>");var d,g=b.querySelector(".ladda-spinner");g||(g=document.createElement("span"),g.className="ladda-spinner");b.appendChild(g);var l,h={start:function(){if(!d){var c,
h=b.offsetHeight;0===h&&(h=parseFloat(window.getComputedStyle(b).height));32<h&&(h*=.8);b.hasAttribute("data-spinner-size")&&(h=parseInt(b.getAttribute("data-spinner-size"),10));b.hasAttribute("data-spinner-color")&&(c=b.getAttribute("data-spinner-color"));h*=.2;d=new a({color:c||"#fff",lines:12,radius:h,length:.6*h,width:7>h?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})}return b.setAttribute("disabled",""),b.setAttribute("data-loading",""),clearTimeout(l),d.spin(g),this.setProgress(0),
this},startAfter:function(a){return clearTimeout(l),l=setTimeout(function(){h.start()},a),this},stop:function(){return b.removeAttribute("disabled"),b.removeAttribute("data-loading"),clearTimeout(l),d&&(l=setTimeout(function(){d.stop()},1E3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(a){a=Math.max(Math.min(a,1),0);var c=b.querySelector(".ladda-progress");0===a&&c&&c.parentNode?c.parentNode.removeChild(c):(c||(c=document.createElement("div"),
c.className="ladda-progress",b.appendChild(c)),c.style.width=(a||0)*b.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),b.setAttribute("disabled",""),this},isLoading:function(){return b.hasAttribute("data-loading")},remove:function(){clearTimeout(l);b.removeAttribute("disabled","");b.removeAttribute("data-loading","");d&&(d.stop(),d=null);for(var a=0,g=c.length;g>a;a++)if(h===c[a]){c.splice(a,1);break}}};return c.push(h),h}function d(a){for(var c=
[],b=0;a.length>b;b++)c.push(a[b]);return c}var c=[];return{bind:function(a,c){c=c||{};var g=[];"string"==typeof a?g=d(document.querySelectorAll(a)):"object"==typeof a&&"string"==typeof a.nodeName&&(g=[a]);for(var l=0,h=g.length;h>l;l++)(function(){var a=g[l];if("function"==typeof a.addEventListener){var e=b(a),d=-1;a.addEventListener("click",function(){for(var b=!0,g,h=a;h.parentNode&&"FORM"!==h.tagName;)h=h.parentNode;g="FORM"===h.tagName?h:void 0;if(void 0!==g){for(var l=["input","textarea","select"],
h=[],v=0;l.length>v;v++)for(var u=g.getElementsByTagName(l[v]),H=0;u.length>H;H++)u[H].hasAttribute("required")&&h.push(u[H]);for(g=0;h.length>g;g++)""===h[g].value.replace(/^\s+|\s+$/g,"")&&(b=!1),"checkbox"!==h[g].type&&"radio"!==h[g].type||h[g].checked||(b=!1),"email"===h[g].type&&(b=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(h[g].value))}b&&(e.startAfter(1),"number"==typeof c.timeout&&(clearTimeout(d),d=setTimeout(e.stop,c.timeout)),"function"==typeof c.callback&&c.callback.apply(null,
[e]))},!1)}})()},create:b,stopAll:function(){for(var a=0,b=c.length;b>a;a++)c[a].stop()}}});
var qq=function(a){return{hide:function(){a.style.display="none";return this},attach:function(b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d);return function(){qq(a).detach(b,d)}},detach:function(b,d){a.removeEventListener?a.removeEventListener(b,d,!1):a.attachEvent&&a.detachEvent("on"+b,d);return this},contains:function(b){return a===b?!0:a.contains?a.contains(b):!!(b.compareDocumentPosition(a)&8)},insertBefore:function(b){b.parentNode.insertBefore(a,b);
return this},remove:function(){a.parentNode.removeChild(a);return this},css:function(b){null!==b.opacity&&"string"!==typeof a.style.opacity&&"undefined"!==typeof a.filters&&(b.filter="alpha(opacity="+Math.round(100*b.opacity)+")");qq.extend(a.style,b);return this},hasClass:function(b){return RegExp("(^| )"+b+"( |$)").test(a.className)},addClass:function(b){qq(a).hasClass(b)||(a.className+=" "+b);return this},removeClass:function(b){a.className=a.className.replace(RegExp("(^| )"+b+"( |$)")," ").replace(/^\s+|\s+$/g,
"");return this},getByClass:function(b){var d,c=[];if(a.querySelectorAll)return a.querySelectorAll("."+b);d=a.getElementsByTagName("*");qq.each(d,function(a,d){qq(d).hasClass(b)&&c.push(d)});return c},children:function(){for(var b=[],d=a.firstChild;d;)1===d.nodeType&&b.push(d),d=d.nextSibling;return b},setText:function(b){a.innerText=b;a.textContent=b;return this},clearText:function(){return qq(a).setText("")}}};
qq.log=function(a,b){if(window.console)if(b&&"info"!==b)if(window.console[b])window.console[b](a);else window.console.log("<"+b+"> "+a);else window.console.log(a)};qq.isObject=function(a){return null!==a&&a&&"object"===typeof a&&a.constructor===Object};qq.isFunction=function(a){return"function"===typeof a};qq.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)};qq.trimStr=function(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")};
qq.isFileOrInput=function(a){if(window.File&&a instanceof File)return!0;if(window.HTMLInputElement){if(a instanceof HTMLInputElement&&a.type&&"file"===a.type.toLowerCase())return!0}else if(a.tagName&&"input"===a.tagName.toLowerCase()&&a.type&&"file"===a.type.toLowerCase())return!0;return!1};qq.isBlob=function(a){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(a)};
qq.isXhrUploadSupported=function(){var a=document.createElement("input");a.type="file";return void 0!==a.multiple&&"undefined"!==typeof File&&"undefined"!==typeof FormData&&"undefined"!==typeof(new XMLHttpRequest).upload};qq.isFolderDropSupported=function(a){return a.items&&a.items[0].webkitGetAsEntry};qq.isFileChunkingSupported=function(){return!qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)};
qq.extend=function(a,b,d){qq.each(b,function(c,b){d&&qq.isObject(b)?(void 0===a[c]&&(a[c]={}),qq.extend(a[c],b,!0)):a[c]=b})};qq.indexOf=function(a,b,d){if(a.indexOf)return a.indexOf(b,d);d=d||0;var c=a.length;for(0>d&&(d+=c);d<c;d+=1)if(a.hasOwnProperty(d)&&a[d]===b)return d;return-1};qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")};
qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")};qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")};qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")};qq.firefox=function(){return-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor};qq.windows=function(){return"Win32"===navigator.platform};qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")};
qq.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};qq.toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;b=a.firstChild;a.removeChild(b);return b}}();qq.each=function(a,b){var d,c;if(a)for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b(d,a[d]),!1===c))break};
qq.obj2url=function(a,b,d){var c,e=[],f="&",g=function(a,c){var d=b?/\[\]$/.test(b)?b:b+"["+c+"]":c;"undefined"!==d&&"undefined"!==c&&e.push("object"===typeof a?qq.obj2url(a,d,!0):"[object Function]"===Object.prototype.toString.call(a)?encodeURIComponent(d)+"="+encodeURIComponent(a()):encodeURIComponent(d)+"="+encodeURIComponent(a))};if(!d&&b)f=/\?/.test(b)?/\?$/.test(b)?"":"&":"?",e.push(b),e.push(qq.obj2url(a));else if("[object Array]"===Object.prototype.toString.call(a)&&"undefined"!==typeof a)for(c=
-1,d=a.length;c<d;c+=1)g(a[c],c);else if("undefined"!==typeof a&&null!==a&&"object"===typeof a)for(c in a)a.hasOwnProperty(c)&&g(a[c],c);else e.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return b?e.join(f):e.join(f).replace(/^&/,"").replace(/%20/g,"+")};qq.obj2FormData=function(a,b,d){b||(b=new FormData);qq.each(a,function(a,e){a=d?d+"["+a+"]":a;qq.isObject(e)?qq.obj2FormData(e,b,a):qq.isFunction(e)?b.append(a,e()):b.append(a,e)});return b};
qq.obj2Inputs=function(a,b){var d;b||(b=document.createElement("form"));qq.obj2FormData(a,{append:function(a,e){d=document.createElement("input");d.setAttribute("name",a);d.setAttribute("value",e);b.appendChild(d)}});return b};qq.setCookie=function(a,b,d){var c=new Date,e="";d&&(c.setTime(c.getTime()+864E5*d),e="; expires="+c.toGMTString());document.cookie=a+"="+b+e+"; path=/"};
qq.getCookie=function(a){a+="=";for(var b=document.cookie.split(";"),d,c=0;c<b.length;c++){for(d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}};qq.getCookieNames=function(a){var b=document.cookie.split(";"),d=[];qq.each(b,function(c,b){b=qq.trimStr(b);var f=b.indexOf("=");b.match(a)&&d.push(b.substr(0,f))});return d};qq.deleteCookie=function(a){qq.setCookie(a,"",-1)};
qq.areCookiesEnabled=function(){var a="qqCookieTest:"+1E5*Math.random();qq.setCookie(a,1);return qq.getCookie(a)?(qq.deleteCookie(a),!0):!1};qq.parseJson=function(a){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(a):eval("("+a+")")};qq.DisposeSupport=function(){var a=[];return{dispose:function(){var b;do(b=a.shift())&&b();while(b)},attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(b){a.push(b)}}};
qq.supportedFeatures=function(){var a,b,d,c,e,f;a=!0;try{b=document.createElement("input"),b.type="file",qq(b).hide(),b.disabled&&(a=!1)}catch(g){a=!1}d=(b=a&&qq.isXhrUploadSupported())&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/);c=b&&qq.isFileChunkingSupported();e=b&&c&&qq.areCookiesEnabled();f=b&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/);return{uploading:a,ajaxUploading:b,fileDrop:b,folderDrop:d,chunking:c,
resume:e,uploadCustomHeaders:b,uploadNonMultipart:b,itemSizeValidation:b,uploadViaPaste:f,progressBar:b,uploadCors:a&&(void 0!==window.postMessage||b),deleteFileCors:b}}();qq.Promise=function(){var a,b,d,c,e,f=0;return{then:function(e,l){0===f?(d=e,c=l):-1===f&&l?l(b):e&&e(a);return this},done:function(a){0===f?e=a:a();return this},success:function(c){f=1;a=c;d&&d(c);e&&e();return this},failure:function(a){f=-1;b=a;c&&c(a);e&&e();return this}}};
qq.UploadButton=function(a){function b(){var a=document.createElement("input");e.multiple&&a.setAttribute("multiple","multiple");e.acceptFiles&&a.setAttribute("accept",e.acceptFiles);a.setAttribute("type","file");a.setAttribute("name",e.name);qq(a).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});e.element.appendChild(a);c.attach(a,"change",function(){e.onChange(a)});c.attach(a,"mouseover",function(){qq(e.element).addClass(e.hoverClass)});
c.attach(a,"mouseout",function(){qq(e.element).removeClass(e.hoverClass)});c.attach(a,"focus",function(){qq(e.element).addClass(e.focusClass)});c.attach(a,"blur",function(){qq(e.element).removeClass(e.focusClass)});window.attachEvent&&a.setAttribute("tabIndex","-1");return a}var d,c=new qq.DisposeSupport,e={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(e,a);qq(e.element).css({position:"relative",
overflow:"hidden",direction:"ltr"});d=b();return{getInput:function(){return d},reset:function(){d.parentNode&&qq(d).remove();qq(e.element).removeClass(e.focusClass);d=b()}}};
qq.PasteSupport=function(a){var b;b={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}};qq.extend(b,a);(function(){qq(b.targetElement).attach("paste",function(a){(a=a.clipboardData)&&qq.each(a.items,function(a,e){if(e.type&&0===e.type.indexOf("image/")){var d=e.getAsFile();b.callbacks.pasteReceived(d)}})})})();return{reset:function(){}}};
qq.FineUploaderBasic=function(a){this._options={debug:!1,button:null,multiple:!0,maxConnections:1,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onCancel:function(){},
onUpload:function(){},onUploadChunk:function(){},onResume:function(){},onProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",
emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",
buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2E6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(a){33<a.length&&(a=a.slice(0,19)+"..."+a.slice(-14));return a},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:"kB MB GB TB PB EB".split(" ")},
deleteFile:{enabled:!1,endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1},blobs:{defaultName:"misc_data",paramNames:{name:"qqblobname"}},paste:{targetElement:null,defaultName:"pasted_image"}};qq.extend(this._options,a,!0);this._wrapCallbacks();this._disposeSupport=new qq.DisposeSupport;this._filesInProgress=[];this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._netUploaded=this._netUploadedOrQueued=0;this._paramsStore=
this._createParamsStore("request");this._deleteFileParamsStore=this._createParamsStore("deleteFile");this._endpointStore=this._createEndpointStore("request");this._deleteFileEndpointStore=this._createEndpointStore("deleteFile");this._handler=this._createUploadHandler();this._deleteHandler=this._createDeleteHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler());this._preventLeaveInProgress()};
qq.FineUploaderBasic.prototype={log:function(a,b){!this._options.debug||b&&"info"!==b?b&&"info"!==b&&qq.log("[FineUploader] "+a,b):qq.log("[FineUploader] "+a)},setParams:function(a,b){null==b?this._options.request.params=a:this._paramsStore.setParams(a,b)},setDeleteFileParams:function(a,b){null==b?this._options.deleteFile.params=a:this._deleteFileParamsStore.setParams(a,b)},setEndpoint:function(a,b){null==b?this._options.request.endpoint=a:this._endpointStore.setEndpoint(a,b)},getInProgress:function(){return this._filesInProgress.length},
getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){for(var a;this._storedIds.length;)a=this._storedIds.shift(),this._filesInProgress.push(a),this._handler.upload(a)},clearStoredFiles:function(){this._storedIds=[]},retry:function(a){return this._onBeforeManualRetry(a)?(this._netUploadedOrQueued++,this._handler.retry(a),!0):!1},cancel:function(a){this._handler.cancel(a)},cancelAll:function(){var a=[],b=this;qq.extend(a,this._storedIds);qq.each(a,function(a,c){b.cancel(c)});
this._handler.cancelAll()},reset:function(){this.log("Resetting uploader...");this._handler.reset();this._filesInProgress=[];this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._button.reset();this._paramsStore.reset();this._endpointStore.reset();this._netUploaded=this._netUploadedOrQueued=0;this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(a,b,d){var c=[],e,f;if(a){window.FileList&&a instanceof FileList||(a=[].concat(a));for(e=0;e<a.length;e+=
1)f=a[e],qq.isFileOrInput(f)?c.push(f):this.log(f+" is not a File or INPUT element!  Ignoring!","warn");this.log("Processing "+c.length+" files or inputs...");this._uploadFileOrBlobDataList(c,b,d)}},addBlobs:function(a,b,d){if(a){a=[].concat(a);var c=[],e=this;qq.each(a,function(a,b){qq.isBlob(b)&&!qq.isFileOrInput(b)?c.push({blob:b,name:e._options.blobs.defaultName}):qq.isObject(b)&&b.blob&&b.name?c.push(b):e.log("addBlobs: entry at index "+a+" is not a Blob or a BlobData object","error")});this._uploadFileOrBlobDataList(c,
b,d)}else this.log("undefined or non-array parameter passed into addBlobs","error")},getUuid:function(a){return this._handler.getUuid(a)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(a){return this._handler.getSize(a)},getName:function(a){return this._handler.getName(a)},getFile:function(a){return this._handler.getFile(a)},deleteFile:function(a){this._onSubmitDelete(a)},setDeleteFileEndpoint:function(a,b){null==b?this._options.deleteFile.endpoint=
a:this._deleteFileEndpointStore.setEndpoint(a,b)},_createUploadButton:function(a){var b=this,d=new qq.UploadButton({element:a,multiple:this._options.multiple&&qq.supportedFeatures.ajaxUploading,acceptFiles:this._options.validation.acceptFiles,onChange:function(a){b._onInputChange(a)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});this._disposeSupport.addDisposer(function(){d.dispose()});return d},_createUploadHandler:function(){var a=this;return new qq.UploadHandler({debug:this._options.debug,
forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,uuidParamName:this._options.request.uuidName,totalFileSizeParamName:this._options.request.totalFileSizeName,cors:this._options.cors,demoMode:this._options.demoMode,paramsInBody:this._options.request.paramsInBody,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,
blobs:this._options.blobs,log:function(b,d){a.log(b,d)},onProgress:function(b,d,c,e){a._onProgress(b,d,c,e);a._options.callbacks.onProgress(b,d,c,e)},onComplete:function(b,d,c,e){a._onComplete(b,d,c,e);a._options.callbacks.onComplete(b,d,c,e)},onCancel:function(b,d){a._onCancel(b,d);a._options.callbacks.onCancel(b,d)},onUpload:function(b,d){a._onUpload(b,d);a._options.callbacks.onUpload(b,d)},onUploadChunk:function(b,d,c){a._options.callbacks.onUploadChunk(b,d,c)},onResume:function(b,d,c){return a._options.callbacks.onResume(b,
d,c)},onAutoRetry:function(b,d,c,e){a._preventRetries[b]=c[a._options.retry.preventRetryResponseProperty];return a._shouldAutoRetry(b,d,c)?(a._maybeParseAndSendUploadError(b,d,c,e),a._options.callbacks.onAutoRetry(b,d,a._autoRetries[b]+1),a._onBeforeAutoRetry(b,d),a._retryTimeouts[b]=setTimeout(function(){a._onAutoRetry(b,d,c)},1E3*a._options.retry.autoAttemptDelay),!0):!1}})},_createDeleteHandler:function(){var a=this;return new qq.DeleteFileAjaxRequestor({maxConnections:this._options.maxConnections,
customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(b,d){a.log(b,d)},onDelete:function(b){a._onDelete(b);a._options.callbacks.onDelete(b)},onDeleteComplete:function(b,d,c){a._onDeleteComplete(b,d,c);a._options.callbacks.onDeleteComplete(b,d,c)}})},_createPasteHandler:function(){var a=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,
callbacks:{log:function(b,d){a.log(b,d)},pasteReceived:function(b){var d=a._options.callbacks.onPasteReceived;(d=d(b))&&d.then?d.then(function(c){a._handlePasteSuccess(b,c)},function(c){a.log("Ignoring pasted image per paste received callback.  Reason = '"+c+"'")}):a._handlePasteSuccess(b)}}})},_handlePasteSuccess:function(a,b){var d=a.type.split("/")[1],c=b;null==c&&(c=this._options.paste.defaultName);this.addBlobs({name:c+("."+d),blob:a})},_preventLeaveInProgress:function(){var a=this;this._disposeSupport.attach(window,
"beforeunload",function(b){if(a._filesInProgress.length)return b=b||window.event,b.returnValue=a._options.messages.onLeave})},_onSubmit:function(a){this._netUploadedOrQueued++;this._options.autoUpload&&this._filesInProgress.push(a)},_onProgress:function(){},_onComplete:function(a,b,d,c){d.success?this._netUploaded++:this._netUploadedOrQueued--;this._removeFromFilesInProgress(a);this._maybeParseAndSendUploadError(a,b,d,c)},_onCancel:function(a){this._netUploadedOrQueued--;this._removeFromFilesInProgress(a);
clearTimeout(this._retryTimeouts[a]);a=qq.indexOf(this._storedIds,a);!this._options.autoUpload&&0<=a&&this._storedIds.splice(a,1)},_isDeletePossible:function(){return this._options.deleteFile.enabled&&(!this._options.cors.expected||qq.supportedFeatures.deleteFileCors)},_onSubmitDelete:function(a){if(this._isDeletePossible())!1!==this._options.callbacks.onSubmitDelete(a)&&this._deleteHandler.sendDelete(a,this.getUuid(a));else return this.log("Delete request ignored for ID "+a+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.",
"warn"),!1},_onDelete:function(){},_onDeleteComplete:function(a,b,d){var c=this._handler.getName(a);d?(this.log("Delete request for '"+c+"' has failed.","error"),this._options.callbacks.onError(a,c,"Delete request failed with response code "+b.status,b)):(this._netUploadedOrQueued--,this._netUploaded--,this.log("Delete request for '"+c+"' has succeeded."))},_removeFromFilesInProgress:function(a){a=qq.indexOf(this._filesInProgress,a);0<=a&&this._filesInProgress.splice(a,1)},_onUpload:function(){},
_onInputChange:function(a){qq.supportedFeatures.ajaxUploading?this.addFiles(a.files):this.addFiles(a);this._button.reset()},_onBeforeAutoRetry:function(a,b){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+b+"...")},_onAutoRetry:function(a,b){this.log("Retrying "+b+"...");this._autoRetries[a]++;this._handler.retry(a)},_shouldAutoRetry:function(a){return!this._preventRetries[a]&&this._options.retry.enableAuto?(void 0===this._autoRetries[a]&&(this._autoRetries[a]=
0),this._autoRetries[a]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(a){var b=this._options.validation.itemLimit;if(this._preventRetries[a])return this.log("Retries are forbidden for id "+a,"warn"),!1;if(this._handler.isValid(a)){var d=this._handler.getName(a);if(!1===this._options.callbacks.onManualRetry(a,d))return!1;if(0<b&&this._netUploadedOrQueued+1>b)return this._itemError("retryFailTooManyItems",""),!1;this.log("Retrying upload for '"+d+"' (id: "+a+")...");this._filesInProgress.push(a);
return!0}this.log("'"+a+"' is not a valid file ID","error");return!1},_maybeParseAndSendUploadError:function(a,b,d,c){if(!d.success)if(c&&200!==c.status&&!d.error)this._options.callbacks.onError(a,b,"XHR returned response code "+c.status,c);else this._options.callbacks.onError(a,b,d.error?d.error:this._options.text.defaultResponseError,c)},_uploadFileOrBlobDataList:function(a,b,d){var c;if(this._isBatchValid(this._getValidationDescriptors(a)))if(0<a.length)for(c=0;c<a.length;c++)if(this._validateFileOrBlobData(a[c]))this._upload(a[c],
b,d);else{if(this._options.validation.stopOnFirstInvalidFile)break}else this._itemError("noFilesError","")},_upload:function(a,b,d){a=this._handler.add(a);var c=this._handler.getName(a);b&&this.setParams(b,a);d&&this.setEndpoint(d,a);!1!==this._options.callbacks.onSubmit(a,c)&&(this._onSubmit(a,c),this._options.callbacks.onSubmitted(a,c),this._options.autoUpload?this._handler.upload(a):this._storeForLater(a))},_storeForLater:function(a){this._storedIds.push(a)},_isBatchValid:function(a){var b;b=this._options.validation.itemLimit;
var d=this._netUploadedOrQueued+a.length;if(a=!1!==this._options.callbacks.onValidateBatch(a))0===b||d<=b?a=!0:(a=!1,b=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,d).replace(/\{itemLimit\}/g,b),this._batchError(b));return a},_validateFileOrBlobData:function(a){var b,d,c;b=this._getValidationDescriptor(a);d=b.name;c=b.size;return!1===this._options.callbacks.onValidate(b)?!1:qq.isFileOrInput(a)&&!this._isAllowedExtension(d)?(this._itemError("typeError",d),!1):0===c?(this._itemError("emptyError",
d),!1):c&&this._options.validation.sizeLimit&&c>this._options.validation.sizeLimit?(this._itemError("sizeError",d),!1):c&&c<this._options.validation.minSizeLimit?(this._itemError("minSizeError",d),!1):!0},_itemError:function(a,b){function d(a,b){c=c.replace(a,b)}var c=this._options.messages[a],e=[],f=[].concat(b),g=f[0],l;qq.each(this._options.validation.allowedExtensions,function(a,c){qq.isString(c)&&e.push(c)});l=e.join(", ").toLowerCase();d("{file}",this._options.formatFileName(g));d("{extensions}",
l);d("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit));d("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit));l=c.match(/(\{\w+\})/g);null!==l&&qq.each(l,function(a,c){d(c,f[a])});this._options.callbacks.onError(null,g,c);return c},_batchError:function(a){this._options.callbacks.onError(null,null,a)},_isAllowedExtension:function(a){var b=this._options.validation.allowedExtensions,d=!1;if(!b.length)return!0;qq.each(b,function(c,b){if(qq.isString(b)&&null!=a.match(RegExp("\\."+
b+"$","i")))return d=!0,!1});return d},_formatSize:function(a){var b=-1;do a/=1024,b++;while(99<a);return Math.max(a,.1).toFixed(1)+this._options.text.sizeSymbols[b]},_wrapCallbacks:function(){var a,b;a=this;b=function(c,b,d){try{return b.apply(a,d)}catch(g){a.log("Caught exception in '"+c+"' callback - "+g.message,"error")}};for(var d in this._options.callbacks)(function(){var c,e;c=d;e=a._options.callbacks[c];a._options.callbacks[c]=function(){return b(c,e,arguments)}})()},_parseFileOrBlobDataName:function(a){return qq.isFileOrInput(a)?
a.value?a.value.replace(/.*(\/|\\)/,""):null!==a.fileName&&void 0!==a.fileName?a.fileName:a.name:a.name},_parseFileOrBlobDataSize:function(a){var b;qq.isFileOrInput(a)?a.value||(b=null!==a.fileSize&&void 0!==a.fileSize?a.fileSize:a.size):b=a.blob.size;return b},_getValidationDescriptor:function(a){var b,d;d={};b=this._parseFileOrBlobDataName(a);a=this._parseFileOrBlobDataSize(a);d.name=b;void 0!==a&&(d.size=a);return d},_getValidationDescriptors:function(a){var b=this,d=[];qq.each(a,function(a,e){d.push(b._getValidationDescriptor(e))});
return d},_createParamsStore:function(a){var b={},d=this;return{setParams:function(a,e){var d={};qq.extend(d,a);b[e]=d},getParams:function(c){var e={};null!=c&&b[c]?qq.extend(e,b[c]):qq.extend(e,d._options[a].params);return e},remove:function(a){return delete b[a]},reset:function(){b={}}}},_createEndpointStore:function(a){var b={},d=this;return{setEndpoint:function(a,e){b[e]=a},getEndpoint:function(c){return null!=c&&b[c]?b[c]:d._options[a].endpoint},remove:function(a){return delete b[a]},reset:function(){b=
{}}}}};
qq.DragAndDrop=function(a){function b(a){var c,e,d=new qq.Promise;a.isFile?a.file(function(a){l.push(a);d.success()},function(c){f.callbacks.dropLog("Problem parsing '"+a.fullPath+"'.  FileError code "+c.code+".","error");d.failure()}):a.isDirectory&&(c=a.createReader(),c.readEntries(function(a){var c=a.length;for(e=0;e<a.length;e+=1)b(a[e]).done(function(){--c;0===c&&d.success()});a.length||d.success()},function(c){f.callbacks.dropLog("Problem parsing '"+a.fullPath+"'.  FileError code "+c.code+".",
"error");d.failure()}));return d}function d(a){var c,e,d=[],h=new qq.Promise;f.callbacks.processingDroppedFiles();g.dropDisabled(!0);if(1<a.files.length&&!f.allowMultipleItems)f.callbacks.processingDroppedFilesComplete([]),f.callbacks.dropError("tooManyFilesError",""),g.dropDisabled(!1),h.failure();else{l=[];if(qq.isFolderDropSupported(a))for(c=a.items,a=0;a<c.length;a+=1)(e=c[a].webkitGetAsEntry())&&(e.isFile?l.push(c[a].getAsFile()):d.push(b(e).done(function(){d.pop();0===d.length&&h.success()})));
else l=a.files;0===d.length&&h.success()}return h}function c(a){g=new qq.UploadDropZone({element:a,onEnter:function(c){qq(a).addClass(f.classes.dropActive);c.stopPropagation()},onLeaveNotDescendants:function(){qq(a).removeClass(f.classes.dropActive)},onDrop:function(c){f.hideDropZonesBeforeEnter&&qq(a).hide();qq(a).removeClass(f.classes.dropActive);d(c.dataTransfer).done(function(){var a=l;f.callbacks.dropLog("Grabbed "+a.length+" dropped files.");g.dropDisabled(!1);f.callbacks.processingDroppedFilesComplete(a)})}});
h.addDisposer(function(){g.dispose()});f.hideDropZonesBeforeEnter&&qq(a).hide()}function e(a){var c;qq.each(a.dataTransfer.types,function(a,b){if("Files"===b)return c=!0,!1});return c}var f,g,l=[],h=new qq.DisposeSupport;f={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks};qq.extend(f,a,!0);(function(){var a=f.dropZoneElements;qq.each(a,function(a,b){c(b)});a.length&&(!qq.ie()||qq.ie10())&&h.attach(document,"dragenter",
function(c){!g.dropDisabled()&&e(c)&&qq.each(a,function(a,c){qq(c).css({display:"block"})})});h.attach(document,"dragleave",function(c){f.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(c)&&qq.each(a,function(a,c){qq(c).hide()})});h.attach(document,"drop",function(c){f.hideDropZonesBeforeEnter&&qq.each(a,function(a,c){qq(c).hide()});c.preventDefault()})})();return{setupExtraDropzone:function(a){f.dropZoneElements.push(a);c(a)},removeDropzone:function(a){var c,b=f.dropZoneElements;
for(c in b)if(b[c]===a)return b.splice(c,1)},dispose:function(){h.dispose();g.dispose()}}};qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(a,b){qq.log("Drag & drop error code '"+a+" with these specifics: '"+b+"'","error")},dropLog:function(a,b){qq.log(a,b)}}};
qq.UploadDropZone=function(a){function b(){return qq.safari()||qq.firefox()&&qq.windows()}function d(a){if(qq.ie()&&!qq.ie10())return!1;var c=a.dataTransfer,b=qq.safari();a=qq.ie10()?!0:"none"!==c.effectAllowed;return c&&a&&(c.files||!b&&c.types.contains&&c.types.contains("Files"))}function c(a){void 0!==a&&(g=a);return g}var e,f,g,l,h=new qq.DisposeSupport;e={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}};qq.extend(e,a);f=e.element;
(function(){l||(b?h.attach(document,"dragover",function(a){a.preventDefault()}):h.attach(document,"dragover",function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none",a.preventDefault())}),l=!0)})();(function(){h.attach(f,"dragover",function(a){if(d(a)){var c=qq.ie()?null:a.dataTransfer.effectAllowed;a.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy";a.stopPropagation();a.preventDefault()}});h.attach(f,"dragenter",function(a){if(!c()&&d(a))e.onEnter(a)});h.attach(f,"dragleave",
function(a){if(d(a)){e.onLeave(a);var c=document.elementFromPoint(a.clientX,a.clientY);if(!qq(this).contains(c))e.onLeaveNotDescendants(a)}});h.attach(f,"drop",function(a){!c()&&d(a)&&(a.preventDefault(),e.onDrop(a))})})();return{dropDisabled:function(a){return c(a)},dispose:function(){h.dispose()}}};
qq.FineUploader=function(a){qq.FineUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+
(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',
classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,
failIcon:null,dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",
deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},showMessage:function(a){setTimeout(function(){window.alert(a)},0)},showConfirm:function(a,d,c){setTimeout(function(){window.confirm(a)?d():c&&c()},0)},showPrompt:function(a,d){var c=new qq.Promise,e=window.prompt(a,d);null!=e&&0<qq.trimStr(e).length?c.success(e):c.failure("Undefined or invalid user-supplied value.");return c}},!0);qq.extend(this._options,
a,!0);!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,
this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,
this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt())};qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype);
qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments);this._listElement.innerHTML=""},addExtraDropzone:function(a){this._dnd.setupExtraDropzone(a)},removeExtraDropzone:function(a){return this._dnd.removeDropzone(a)},getItemByFileId:function(a){for(var b=this._listElement.firstChild;b;){if(b.qqFileId==a)return b;b=b.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments);this._element.innerHTML=
this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button")));this._bindCancelAndRetryEvents();this._dnd.dispose();this._dnd=this._setupDragAndDrop()},_removeFileItem:function(a){a=this.getItemByFileId(a);qq(a).remove()},_setupDragAndDrop:function(){var a=this,b=this._find(this._element,"dropProcessing"),d=this._options.dragAndDrop.extraDropzones,c;c=function(a){a.preventDefault()};
this._options.dragAndDrop.disableDefaultDropzone||d.push(this._find(this._options.element,"drop"));return new qq.DragAndDrop({dropZoneElements:d,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){var e=a._button.getInput();qq(b).css({display:"block"});qq(e).attach("click",c)},processingDroppedFilesComplete:function(e){var d=a._button.getInput();
qq(b).hide();qq(d).detach("click",c);e&&a.addFiles(e)},dropError:function(c,b){a._itemError(c,b)},dropLog:function(c,b){a.log(c,b)}}})},_leaving_document_out:function(a){return(qq.chrome()||qq.safari()&&qq.windows())&&0==a.clientX&&0==a.clientY||qq.firefox()&&!a.relatedTarget},_storeForLater:function(a){qq.FineUploaderBasic.prototype._storeForLater.apply(this,arguments);var b=this.getItemByFileId(a);qq(this._find(b,"spinner")).hide()},_find:function(a,b){var d=qq(a).getByClass(this._options.classes[b])[0];
if(!d)throw Error("element not found "+b);return d},_onSubmit:function(a,b){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(a,b)},_onProgress:function(a,b,d,c){qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments);var e,f,g,l;e=this.getItemByFileId(a);f=this._find(e,"progressBar");g=Math.round(d/c*100);d===c?(l=this._find(e,"cancel"),qq(l).hide(),qq(f).hide(),qq(this._find(e,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(a)):
(this._displayFileSize(a,d,c),qq(f).css({display:"block"}));qq(f).css({width:g+"%"})},_onComplete:function(a,b,d,c){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var e=this.getItemByFileId(a);qq(this._find(e,"statusText")).clearText();qq(e).removeClass(this._classes.retrying);qq(this._find(e,"progressBar")).hide();this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||qq(this._find(e,"cancel")).hide();qq(this._find(e,"spinner")).hide();d.success?(this._isDeletePossible()&&
this._showDeleteLink(a),qq(e).addClass(this._classes.success),this._classes.successIcon&&(this._find(e,"finished").style.display="inline-block",qq(e).addClass(this._classes.successIcon))):(qq(e).addClass(this._classes.fail),this._classes.failIcon&&(this._find(e,"finished").style.display="inline-block",qq(e).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[a]&&qq(e).addClass(this._classes.retryable),this._controlFailureTextDisplay(e,d))},_onUpload:function(a,
b){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments);this._showSpinner(a)},_onCancel:function(a,b){qq.FineUploaderBasic.prototype._onCancel.apply(this,arguments);this._removeFileItem(a)},_onBeforeAutoRetry:function(a){var b,d,c,e,f;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments);b=this.getItemByFileId(a);d=this._find(b,"progressBar");this._showCancelLink(b);d.style.width=0;qq(d).hide();this._options.retry.showAutoRetryNote&&(d=this._find(b,"statusText"),c=this._autoRetries[a]+
1,e=this._options.retry.maxAutoAttempts,f=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,c),f=f.replace(/\{maxAuto\}/g,e),qq(d).setText(f),1===c&&qq(b).addClass(this._classes.retrying))},_onBeforeManualRetry:function(a){var b=this.getItemByFileId(a);if(qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments))return this._find(b,"progressBar").style.width=0,qq(b).removeClass(this._classes.fail),qq(this._find(b,"statusText")).clearText(),this._showSpinner(a),this._showCancelLink(b),
!0;qq(b).addClass(this._classes.retryable);return!1},_onSubmitDelete:function(a){if(this._isDeletePossible())!1!==this._options.callbacks.onSubmitDelete(a)&&(this._options.deleteFile.forceConfirm?this._showDeleteConfirm(a):this._sendDeleteRequest(a));else return this.log("Delete request ignored for file ID "+a+", delete feature is disabled.","warn"),!1},_onDeleteComplete:function(a,b,d){qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this,arguments);var c=this.getItemByFileId(a),e=this._find(c,
"spinner"),c=this._find(c,"statusText");qq(e).hide();d?(qq(c).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(a)):this._removeFileItem(a)},_sendDeleteRequest:function(a){var b=this.getItemByFileId(a),d=this._find(b,"deleteButton"),b=this._find(b,"statusText");qq(d).hide();this._showSpinner(a);qq(b).setText(this._options.deleteFile.deletingStatusText);this._deleteHandler.sendDelete(a,this.getUuid(a))},_showDeleteConfirm:function(a){var b=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,
this._handler.getName(a));this.getUuid(a);var d=this;this._options.showConfirm(b,function(){d._sendDeleteRequest(a)})},_addToList:function(a,b){var d=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var c=this._find(d,"cancel");qq(c).remove()}d.qqFileId=a;c=this._find(d,"file");qq(c).setText(this._options.formatFileName(b));qq(this._find(d,"size")).hide();this._options.multiple||(this._handler.cancelAll(),this._clearList());
this._listElement.appendChild(d);this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(a)},_clearList:function(){this._listElement.innerHTML="";this.clearStoredFiles()},_displayFileSize:function(a,b,d){var c=this.getItemByFileId(a);a=this._formatSize(this.getSize(a));c=this._find(c,"size");void 0!==b&&void 0!==d&&(a=this._formatProgress(b,d));qq(c).css({display:"inline"});qq(c).setText(a)},_bindCancelAndRetryEvents:function(){var a=this;this._disposeSupport.attach(this._listElement,
"click",function(b){b=b||window.event;var d=b.target||b.srcElement;if(qq(d).hasClass(a._classes.cancel)||qq(d).hasClass(a._classes.retry)||qq(d).hasClass(a._classes.deleteButton)){qq.preventDefault(b);for(b=d.parentNode;void 0===b.qqFileId;)b=b.parentNode;qq(d).hasClass(a._classes.deleteButton)?a.deleteFile(b.qqFileId):qq(d).hasClass(a._classes.cancel)?a.cancel(b.qqFileId):(qq(b).removeClass(a._classes.retryable),a.retry(b.qqFileId))}})},_formatProgress:function(a,b){var d=this._options.text.formatProgress,
c=Math.round(a/b*100),d=d.replace("{percent}",c),c=this._formatSize(b);return d.replace("{total_size}",c)},_controlFailureTextDisplay:function(a,b){var d,c,e,f;d=this._options.failedUploadTextDisplay.mode;c=this._options.failedUploadTextDisplay.maxChars;e=this._options.failedUploadTextDisplay.responseProperty;"custom"===d?((d=b[e])?d.length>c&&(f=d.substring(0,c)+"..."):(d=this._options.text.failUpload,this.log("'"+e+"' is not a valid property on the server response.","warn")),qq(this._find(a,"statusText")).setText(f||
d),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(a,d)):"default"===d?qq(this._find(a,"statusText")).setText(this._options.text.failUpload):"none"!==d&&this.log("failedUploadTextDisplay.mode value of '"+d+"' is not valid","warn")},_showTooltip:function(a,b){a.title=b},_showSpinner:function(a){this._find(this.getItemByFileId(a),"spinner").style.display="inline-block"},_showCancelLink:function(a){if(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)a=
this._find(a,"cancel"),qq(a).css({display:"inline"})},_showDeleteLink:function(a){a=this._find(this.getItemByFileId(a),"deleteButton");qq(a).css({display:"inline"})},_itemError:function(a,b){this._options.showMessage(qq.FineUploaderBasic.prototype._itemError.apply(this,arguments))},_batchError:function(a){qq.FineUploaderBasic.prototype._batchError.apply(this,arguments);this._options.showMessage(a)},_setupPastePrompt:function(){var a=this;this._options.callbacks.onPasteReceived=function(){return a._options.showPrompt(a._options.paste.namePromptMessage,
a._options.paste.defaultName)}}});
qq.AjaxRequestor=function(a){function b(a){var c=qq.indexOf(h,a),b=p.maxConnections;delete q[a];h.splice(c,1);h.length>=b&&c<b&&(a=h[b-1],d(a))}function d(a){var b=new XMLHttpRequest,d=f(),h={},B;p.onSend(a);p.paramsStore.getParams&&(h=p.paramsStore.getParams(a));B=h;var v=p.endpointStore.getEndpoint(a),u=q[a].addToPath;void 0!==u&&(v+="/"+u);B=l&&B?qq.obj2url(B,v):v;q[a].xhr=b;b.onreadystatechange=c(a);b.open(d,B,!0);p.cors.expected&&p.cors.sendCredentials&&(b.withCredentials=!0);e(a);g("Sending "+
d+" request for "+a);!l&&h?b.send(qq.obj2url(h,"")):b.send()}function c(a){var c=q[a].xhr;return function(){if(4===c.readyState){var e=q[a].xhr,d=f(),h=!1;b(a);0<=qq.indexOf(p.successfulResponseCodes,e.status)||(h=!0,g(d+" request for "+a+" has failed - response code "+e.status,"error"));p.onComplete(a,e,h)}}}function e(a){var c=q[a].xhr;a=p.customHeaders;c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.setRequestHeader("Cache-Control","no-cache");qq.each(a,function(a,b){c.setRequestHeader(a,
b)})}function f(){return p.demoMode?"GET":p.method}var g,l,h=[],q=[],p={method:"POST",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},successfulResponseCodes:[200],demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onCancel:function(){}};qq.extend(p,a);g=p.log;l="GET"===f()||"DELETE"===f();return{send:function(a,c){q[a]={addToPath:c};h.push(a)<=p.maxConnections&&d(a)},cancel:function(a){var c=q[a].xhr,e=f();c?(c.onreadystatechange=
null,c.abort(),b(a),g("Cancelled "+e+" for "+a),p.onCancel(a),a=!0):a=!1;return a}}};
qq.DeleteFileAjaxRequestor=function(a){var b,d={endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};qq.extend(d,a);b=new qq.AjaxRequestor({method:"DELETE",endpointStore:d.endpointStore,paramsStore:d.paramsStore,maxConnections:d.maxConnections,customHeaders:d.customHeaders,successfulResponseCodes:[200,202,204],demoMode:d.demoMode,log:d.log,onSend:d.onDelete,onComplete:d.onDeleteComplete});
return{sendDelete:function(a,e){b.send(a,e);d.log("Submitted delete file request for "+a)}}};qq.WindowReceiveMessage=function(a){var b={};qq.extend({log:function(){}},a);return{receiveMessage:function(a,c){var e=function(a){c(a.data)};window.postMessage?b[a]=qq(window).attach("message",e):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(a){window.postMessage&&(a=b[a])&&a()}}};
qq.UploadHandler=function(a){var b=[],d,c,e,f;d={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParamName:"qquuid",totalFileSizeParamName:"qqtotalfilesize",chunking:{enabled:!1,partSize:2E6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},blobs:{paramNames:{name:"qqblobname"}},
log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onAutoRetry:function(){},onResume:function(){}};qq.extend(d,a);c=d.log;e=function(a){a=qq.indexOf(b,a);var c=d.maxConnections;0<=a&&(b.splice(a,1),b.length>=c&&a<c&&(a=b[c-1],f.upload(a)))};f=qq.supportedFeatures.ajaxUploading?new qq.UploadHandlerXhr(d,e,c):new qq.UploadHandlerForm(d,e,c);return{add:function(a){return f.add(a)},upload:function(a){if(b.push(a)<=d.maxConnections)return f.upload(a)},
retry:function(a){return 0<=qq.indexOf(b,a)?f.upload(a,!0):this.upload(a)},cancel:function(a){c("Cancelling "+a);d.paramsStore.remove(a);f.cancel(a);e(a)},cancelAll:function(){var a=this,c=[];qq.extend(c,b);qq.each(c,function(c,b){a.cancel(b)});b=[]},getName:function(a){return f.getName(a)},getSize:function(a){if(f.getSize)return f.getSize(a)},getFile:function(a){if(f.getFile)return f.getFile(a)},getQueue:function(){return b},reset:function(){c("Resetting upload handler");b=[];f.reset()},getUuid:function(a){return f.getUuid(a)},
isValid:function(a){return f.isValid(a)},getResumableFilesData:function(){return f.getResumableFilesData?f.getResumableFilesData():[]}}};
qq.UploadHandlerForm=function(a,b,d){function c(a){void 0!==w[a]&&(w[a](),delete w[a])}function e(a,b){var e=a.id;B[p[e]]=b;w[e]=qq(a).attach("load",function(){q[e]&&(x("Received iframe load event for CORS upload request (file id "+e+")"),J[e]=setTimeout(function(){var a="No valid message received from loaded iframe for file id "+e;x(a,"error");b({error:a})},1E3))});U.receiveMessage(e,function(a){x("Received the following window message: '"+a+"'");var b=qq.parseJson(a),d=b.uuid;d&&B[d]?(clearTimeout(J[e]),
delete J[e],c(e),a=B[d],delete B[d],U.stopReceivingMessages(e),a(b)):d||x("'"+a+"' does not contain a UUID - ignoring.")})}function f(a,c){h.cors.expected?e(a,c):w[a.id]=qq(a).attach("load",function(){x("Received response for "+a.id);if(a.parentNode){try{if(a.contentDocument&&a.contentDocument.body&&"false"==a.contentDocument.body.innerHTML)return}catch(b){x("Error when attempting to access iframe during handling of upload response ("+b+")","error")}c()}})}function g(a){var c=qq.toElement('<iframe src="javascript:false;" name="'+
a+'" />');c.setAttribute("id",a);c.style.display="none";document.body.appendChild(c);return c}function l(a,c){var b=h.paramsStore.getParams(a),e=qq.toElement('<form method="'+(h.demoMode?"GET":"POST")+'" enctype="multipart/form-data"></form>'),d=h.endpointStore.getEndpoint(a),f=d;b[h.uuidParamName]=p[a];h.paramsInBody?qq.obj2Inputs(b,e):f=qq.obj2url(b,d);e.setAttribute("action",f);e.setAttribute("target",c.name);e.style.display="none";document.body.appendChild(e);return e}var h=a,q=[],p=[],w={},J=
{},x=d,U=new qq.WindowReceiveMessage({log:x}),B={},v;return v={add:function(a){a.setAttribute("name",h.inputName);var c=q.push(a)-1;p[c]=qq.getUniqueId();a.parentNode&&qq(a).remove();return c},getName:function(a){if(v.isValid(a))return q[a].value.replace(/.*(\/|\\)/,"");x(a+" is not a valid item ID.","error")},isValid:function(a){return void 0!==q[a]},reset:function(){q=[];p=[];w={}},getUuid:function(a){return p[a]},cancel:function(a){h.onCancel(a,this.getName(a));delete q[a];delete p[a];delete w[a];
h.cors.expected&&(clearTimeout(J[a]),delete J[a],U.stopReceivingMessages(a));if(a=document.getElementById(a))a.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(a).remove()},upload:function(a){var e=q[a],d=v.getName(a),k=g(a),p;if(!e)throw Error("file with passed id was not added, or already uploaded or cancelled");h.onUpload(a,this.getName(a));p=l(a,k);p.appendChild(e);f(k,function(e){x("iframe loaded");if(!e){var f;try{var g=k.contentDocument||k.contentWindow.document,l=g.body.innerHTML;
x("converting iframe's innerHTML to JSON");x("innerHTML = "+l);l&&l.match(/^<pre/i)&&(l=g.body.firstChild.firstChild.nodeValue);f=qq.parseJson(l)}catch(p){x("Error when attempting to parse form upload response ("+p+")","error"),f={success:!1}}e=f}c(a);h.cors.expected||qq(k).remove();if(e.success||!h.onAutoRetry(a,d,e))h.onComplete(a,d,e),b(a)});x("Sending upload request for "+a);p.submit();qq(p).remove();return a}}};
qq.UploadHandlerXhr=function(a,b,d){function c(a,c,b){var e=z.getSize(a);a=z.getName(a);c[u.chunking.paramNames.partIndex]=b.part;c[u.chunking.paramNames.partByteOffset]=b.start;c[u.chunking.paramNames.chunkSize]=b.size;c[u.chunking.paramNames.totalParts]=b.count;c[u.totalFileSizeParamName]=e;y&&(c[u.chunking.paramNames.filename]=a)}function e(a,c){var b=u.chunking.partSize,e=z.getSize(a),d=k[a].file||k[a].blobData.blob,h=b*c,b=h+b>=e?e:h+b,e=f(a),g;d.slice?g=d.slice(h,b):d.mozSlice?g=d.mozSlice(h,
b):d.webkitSlice&&(g=d.webkitSlice(h,b));return{part:c,start:h,end:b,count:e,blob:g,size:b-h}}function f(a){a=z.getSize(a);return Math.ceil(a/u.chunking.partSize)}function g(a,c,b,e){var d=new FormData,f=u.demoMode?"GET":"POST",h=u.endpointStore.getEndpoint(e),g=h,l=z.getName(e),p=z.getSize(e),q=k[e].blobData;a[u.uuidParamName]=k[e].uuid;y&&(a[u.totalFileSizeParamName]=p,q&&(a[u.blobs.paramNames.name]=q.name));u.paramsInBody||(y||(a[u.inputName]=l),g=qq.obj2url(a,h));c.open(f,g,!0);u.cors.expected&&
u.cors.sendCredentials&&(c.withCredentials=!0);return y?(u.paramsInBody&&qq.obj2FormData(a,d),d.append(u.inputName,b),d):b}function l(a,c){var b=u.customHeaders,e=k[a].file||k[a].blobData.blob;c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.setRequestHeader("Cache-Control","no-cache");y||(c.setRequestHeader("Content-Type","application/octet-stream"),c.setRequestHeader("X-Mime-Type",e.type));qq.each(b,function(a,b){c.setRequestHeader(a,b)})}function h(a,c,b){var e=z.getName(a),d=z.getSize(a);
k[a].attemptingResume=!1;u.onProgress(a,e,d,d);u.onComplete(a,e,c,b);delete k[a].xhr;H(a)}function q(a){var b=k[a].remainingChunkIdxs[0],d=e(a,b),f=k[a].xhr=new XMLHttpRequest,h=z.getSize(a),p=z.getName(a),q;void 0===k[a].loaded&&(k[a].loaded=0);C&&k[a].file&&x(a,d);f.onreadystatechange=J(a,f);f.upload.onprogress=function(c){if(c.lengthComputable){var d=c.loaded+k[a].loaded;c=c.total;var f=e(a,b);c-=f.size;var h=z.getSize(a),f=f.count,g=c-k[a].initialRequestOverhead;k[a].lastRequestOverhead=c;0===
b?(k[a].lastChunkIdxProgress=0,k[a].initialRequestOverhead=c,k[a].estTotalRequestsSize=h+f*c):k[a].lastChunkIdxProgress!==b&&(k[a].lastChunkIdxProgress=b,k[a].estTotalRequestsSize+=g);u.onProgress(a,p,d,k[a].estTotalRequestsSize)}};u.onUploadChunk(a,p,w(d));q=u.paramsStore.getParams(a);c(a,q,d);k[a].attemptingResume&&(q[u.resume.paramNames.resuming]=!0);q=g(q,f,d.blob,a);l(a,f);r("Sending chunked upload request for item "+a+": bytes "+(d.start+1)+"-"+d.end+" of "+h);f.send(q)}function p(a){r("Server has ordered chunking effort to be restarted on next attempt for item ID "+
a,"error");C&&(U(a),k[a].attemptingResume=!1);k[a].remainingChunkIdxs=[];delete k[a].loaded;delete k[a].estTotalRequestsSize;delete k[a].initialRequestOverhead}function w(a){return{partIndex:a.part,startByte:a.start+1,endByte:a.end,totalParts:a.count}}function J(a,c){return function(){if(4===c.readyState){var b;if(k[a]){r("xhr - server response received for "+a);r("responseText = "+c.responseText);try{b=qq.parseJson(c.responseText)}catch(d){r("Error when attempting to parse xhr response text ("+d+
")","error"),b={}}if(200!==c.status||!b.success||b.reset)if(b.reset&&p(a),k[a].attemptingResume&&b.reset)k[a].attemptingResume=!1,r("Server has declared that it cannot handle resume for item ID "+a+" - starting from the first chunk","error"),p(a),z.upload(a,!0);else{var f=z.getName(a);u.onAutoRetry(a,f,b,c)||h(a,b,c)}else if(T){var f=k[a].remainingChunkIdxs.shift(),g=e(a,f);k[a].attemptingResume=!1;var f=k[a],l=f.loaded,g=g.size;f.loaded=l+(g+(y?k[a].lastRequestOverhead:0));0<k[a].remainingChunkIdxs.length?
q(a):(C&&U(a),h(a,b,c))}else h(a,b,c)}}}}function x(a,c){var b=z.getUuid(a),e=k[a].loaded,d=k[a].initialRequestOverhead,f=k[a].estTotalRequestsSize,h=B(a);qq.setCookie(h,b+E+c.part+E+e+E+d+E+f,u.resume.cookiesExpireIn)}function U(a){k[a].file&&(a=B(a),qq.deleteCookie(a))}function B(a){var c=z.getName(a);a=z.getSize(a);var b=u.chunking.partSize,c="qqfilechunk"+E+encodeURIComponent(c)+E+a+E+b;void 0!==I&&(c+=E+I);return c}function v(a){var c=k[a].file||k[a].blobData.blob,b=z.getName(a),e,d;k[a].loaded=
0;e=k[a].xhr=new XMLHttpRequest;e.upload.onprogress=function(c){c.lengthComputable&&(k[a].loaded=c.loaded,u.onProgress(a,b,c.loaded,c.total))};e.onreadystatechange=J(a,e);d=u.paramsStore.getParams(a);c=g(d,e,c,a);l(a,e);r("Sending upload request for "+a);e.send(c)}var u=a,H=b,r=d,k=[],E="|",T=u.chunking.enabled&&qq.supportedFeatures.chunking,C=u.resume.enabled&&T&&qq.supportedFeatures.resume,I;I=null===u.resume.id||void 0===u.resume.id||qq.isFunction(u.resume.id)||qq.isObject(u.resume.id)?void 0:
u.resume.id;var y=u.forceMultipart||u.paramsInBody,z;return z={add:function(a){if(a instanceof File)a=k.push({file:a})-1;else if(qq.isBlob(a.blob))a=k.push({blobData:a})-1;else throw Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");k[a].uuid=qq.getUniqueId();return a},getName:function(a){if(z.isValid(a)){var c=k[a].file;a=k[a].blobData;return c?null!==c.fileName&&void 0!==c.fileName?c.fileName:c.name:a.name}r(a+" is not a valid item ID.","error")},getSize:function(a){a=k[a].file||
k[a].blobData.blob;return qq.isFileOrInput(a)?null!=a.fileSize?a.fileSize:a.size:a.size},getFile:function(a){if(k[a])return k[a].file||k[a].blobData.blob},getLoaded:function(a){return k[a].loaded||0},isValid:function(a){return void 0!==k[a]},reset:function(){k=[]},getUuid:function(a){return k[a].uuid},upload:function(a,c){var b=this.getName(a);u.onUpload(a,b);if(T){var d=z.getName(a),b=0,h,g;if(!k[a].remainingChunkIdxs||0===k[a].remainingChunkIdxs.length){k[a].remainingChunkIdxs=[];if(C&&!c&&k[a].file){a:{h=
qq.getCookie(B(a));g=z.getName(a);var l,p,m;if(h){h=h.split(E);if(5===h.length){g=h[0];l=parseInt(h[1],10);p=parseInt(h[2],10);m=parseInt(h[3],10);h=parseInt(h[4],10);h={uuid:g,part:l,lastByteSent:p,initialRequestOverhead:m,estTotalRequestsSize:h};break a}r("Ignoring previously stored resume/chunk cookie for "+g+" - old cookie format","warn")}h=void 0}h&&(g=e(a,h.part),!1!==u.onResume(a,d,w(g))&&(b=h.part,k[a].uuid=h.uuid,k[a].loaded=h.lastByteSent,k[a].estTotalRequestsSize=h.estTotalRequestsSize,
k[a].initialRequestOverhead=h.initialRequestOverhead,k[a].attemptingResume=!0,r("Resuming "+d+" at partition index "+b)))}for(d=f(a)-1;d>=b;--d)k[a].remainingChunkIdxs.unshift(d)}q(a)}else v(a)},cancel:function(a){var c=k[a].xhr;u.onCancel(a,this.getName(a));c&&(c.onreadystatechange=null,c.abort());C&&U(a);delete k[a]},getResumableFilesData:function(){var a=[],c=[];return T&&C?(a=void 0===I?qq.getCookieNames(RegExp("^qqfilechunk\\"+E+".+\\"+E+"\\d+\\"+E+u.chunking.partSize+"=")):qq.getCookieNames(RegExp("^qqfilechunk\\"+
E+".+\\"+E+"\\d+\\"+E+u.chunking.partSize+"\\"+E+I+"=")),qq.each(a,function(a,b){var e=b.split(E),d=qq.getCookie(b).split(E);c.push({name:decodeURIComponent(e[1]),size:e[2],uuid:d[0],partIdx:d[1]})}),c):[]}}};
(function(a){var b,d,c,e,f,g,l,h,q,p;g=["uploaderType"];c=function(a){a&&(a=h(a),l(a),"basic"===f("uploaderType")?b(new qq.FineUploaderBasic(a)):b(new qq.FineUploader(a)));return d};e=function(a,c){var b=d.data("fineuploader");if(c)void 0===b&&(b={}),b[a]=c,d.data("fineuploader",b);else return void 0===b?null:b[a]};b=function(a){return e("uploader",a)};f=function(a,c){return e(a,c)};l=function(c){var b=c.callbacks={};c=new qq.FineUploaderBasic;a.each(c._options.callbacks,function(a){var c,e;c=/^on(\w+)/.exec(a)[1];
c=c.substring(0,1).toLowerCase()+c.substring(1);e=d;b[a]=function(){var a=Array.prototype.slice.call(arguments);return e.triggerHandler(c,a)}})};h=function(c,b){var e,l;e=void 0===b?"basic"!==c.uploaderType?{element:d[0]}:{}:b;a.each(c,function(c,b){0<=a.inArray(c,g)?f(c,b):b instanceof a?e[c]=b[0]:a.isPlainObject(b)?(e[c]={},h(b,e[c])):a.isArray(b)?(l=[],a.each(b,function(c,b){b instanceof a?a.merge(l,b):l.push(b)}),e[c]=l):e[c]=b});if(void 0===b)return e};q=function(c){return"string"===a.type(c)&&
!c.match(/^_/)&&void 0!==b()[c]};p=function(a){var c=[],e=Array.prototype.slice.call(arguments,1);h(e,c);return b()[a].apply(b(),c)};a.fn.fineUploader=function(e){var f=this,h=arguments,g=[];this.each(function(l,v){d=a(v);if(b()&&q(e)){if(g.push(p.apply(f,h)),1===f.length)return!1}else"object"!==typeof e&&e?a.error("Method "+e+" does not exist on jQuery.fineUploader"):c.apply(f,h)});return 1===g.length?g[0]:1<g.length?g:this}})(jQuery);
(function(a){function b(a){a||(a={});a.dropZoneElements=[l];a=e(a);c(a);d(new qq.DragAndDrop(a));return l}function d(a){var c,b=l.data(g);a?(void 0===b&&(b={}),b.dndInstance=a,l.data(g,b)):c=void 0===b?null:b.dndInstance;return c}function c(c){var b=c.callbacks={};new qq.FineUploaderBasic;a.each(new qq.DragAndDrop.callbacks,function(a){var c;c=l;b[a]=function(){var b=Array.prototype.slice.call(arguments);return c.triggerHandler(a,b)}})}function e(c,b){var d,f;d=void 0===b?{}:b;a.each(c,function(c,
b){b instanceof a?d[c]=b[0]:a.isPlainObject(b)?(d[c]={},e(b,d[c])):a.isArray(b)?(f=[],a.each(b,function(c,b){b instanceof a?a.merge(f,b):f.push(b)}),d[c]=f):d[c]=b});if(void 0===b)return d}function f(a){var c=[],b=Array.prototype.slice.call(arguments,1);e(b,c);return d()[a].apply(d(),c)}var g="fineUploaderDnd",l;a.fn.fineUploaderDnd=function(c){var e=this,g=arguments,w=[];this.each(function(J,x){l=a(x);if(d()&&"string"===a.type(c)&&"dispose"===c&&void 0!==d()[c]){if(w.push(f.apply(e,g)),1===e.length)return!1}else"object"!==
typeof c&&c?a.error("Method "+c+" does not exist in Fine Uploader's DnD module."):b.apply(e,g)});return 1===w.length?w[0]:1<w.length?w:this}})(jQuery);
(function(a){function b(a,b){(d(a,b)?e:c)(a,b)}var d,c,e;"classList"in document.documentElement?(d=function(a,c){return a.classList.contains(c)},c=function(a,c){a.classList.add(c)},e=function(a,c){a.classList.remove(c)}):(d=function(a,c){return(new RegExp("(^|\\s+)"+c+"(\\s+|$)")).test(a.className)},c=function(a,c){d(a,c)||(a.className=a.className+" "+c)},e=function(a,c){a.className=a.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ")});var f={hasClass:d,addClass:c,removeClass:e,toggleClass:b,
has:d,add:c,remove:e,toggle:b};"function"===typeof define&&define.amd?define(f):a.classie=f})(window);
$(function(a){var b=document.querySelector("#input"),d=document.querySelector("#search-label");d.addEventListener("click",function(c){classie.has(b,"focus")?(classie.remove(b,"focus"),classie.remove(d,"active"),a("#input input").animate({width:"0px",left:"-20px"},function(){})):a("#input input").animate({left:0,width:"100%"},function(){classie.add(b,"focus");classie.add(d,"active")})});document.addEventListener("click",function(c){c=c.target.id;"search-terms"!=c&&"search-label-target"!=c&&classie.has(b,
"focus")&&(classie.remove(b,"focus"),classie.remove(d,"active"),a("#input input").animate({width:"0px",left:"-20px"},function(){}))})});$(document).ready(function(){$(".not_so_cool_input").focus(function(){$(this).css("border","2px solid #cb9897")});$(".not_so_cool_input").blur(function(){$(this).css("border","2px solid #ccc")});$(".not_so_cool_textarea").focus(function(){$(this).css("border","2px solid #cb9897")});$(".not_so_cool_textarea").blur(function(){$(this).css("border","2px solid #ccc")})});
if(!jQuery)throw Error("Bootstrap requires jQuery");
+function(a){a.fn.emulateTransitionEnd=function(b){var d=!1,c=this;a(this).one(a.support.transition.end,function(){d=!0});return setTimeout(function(){d||a(c).trigger(a.support.transition.end)},b),this};a(function(){var b=a.support,d;a:{d=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in c)if(void 0!==d.style[e]){d={end:c[e]};break a}d=void 0}b.transition=
d})}(window.jQuery);
+function(a){var b=function(c){a(c).on("click",'[data-dismiss="alert"]',this.close)};b.prototype.close=function(c){function b(){l.trigger("closed.bs.alert").remove()}var d=a(this),g=d.attr("data-target");g||(g=d.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,""));var l=a(g);c&&c.preventDefault();l.length||(l=d.hasClass("alert")?d:d.parent());l.trigger(c=a.Event("close.bs.alert"));c.isDefaultPrevented()||(l.removeClass("in"),a.support.transition&&l.hasClass("fade")?l.one(a.support.transition.end,b).emulateTransitionEnd(150):
b())};var d=a.fn.alert;a.fn.alert=function(c){return this.each(function(){var e=a(this),d=e.data("bs.alert");d||e.data("bs.alert",d=new b(this));"string"==typeof c&&d[c].call(e)})};a.fn.alert.Constructor=b;a.fn.alert.noConflict=function(){return a.fn.alert=d,this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',b.prototype.close)}(window.jQuery);
+function(a){var b=function(c,e){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,e)};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(a){var b=this.$element,d=b.is("input")?"val":"html",g=b.data();a+="Text";g.resetText||b.data("resetText",b[d]());b[d](g[a]||this.options[a]);setTimeout(function(){"loadingText"==a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")},0)};b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');
a.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=function(c){return this.each(function(){var e=a(this),d=e.data("bs.button"),g="object"==typeof c&&c;d||e.data("bs.button",d=new b(this,g));"toggle"==c?d.toggle():c&&d.setState(c)})};a.fn.button.Constructor=b;a.fn.button.noConflict=function(){return a.fn.button=d,this};
a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(c){var b=a(c.target);b.hasClass("btn")||(b=b.closest(".btn"));b.button("toggle");c.preventDefault()})}(window.jQuery);
+function(a){var b=function(c,b){this.$element=a(c);this.$indicators=this.$element.find(".carousel-indicators");this.options=b;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};b.prototype.cycle=function(c){return c||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&
(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this};b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)};b.prototype.to=function(c){var b=this,d=this.getActiveIndex();return c>this.$items.length-1||0>c?void 0:this.sliding?this.$element.one("slid",function(){b.to(c)}):d==c?this.pause().cycle():this.slide(c>d?"next":"prev",a(this.$items[c]))};b.prototype.pause=
function(c){return c||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};b.prototype.next=function(){return this.sliding?void 0:this.slide("next")};b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};b.prototype.slide=function(c,b){var d=this.$element.find(".item.active"),g=b||d[c](),l=this.interval,h="next"==c?"left":"right",q=
"next"==c?"first":"last",p=this;if(!g.length){if(!this.options.wrap)return;g=this.$element.find(".item")[q]()}this.sliding=!0;l&&this.pause();q=a.Event("slide.bs.carousel",{relatedTarget:g[0],direction:h});if(!g.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var c=a(p.$indicators.children()[p.getActiveIndex()]);c&&c.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(q),
q.isDefaultPrevented())return;g.addClass(c);g[0].offsetWidth;d.addClass(h);g.addClass(h);d.one(a.support.transition.end,function(){g.removeClass([c,h].join(" ")).addClass("active");d.removeClass(["active",h].join(" "));p.sliding=!1;setTimeout(function(){p.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(q),q.isDefaultPrevented())return;d.removeClass("active");g.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return l&&this.cycle(),this}};var d=
a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),f=d.data("bs.carousel"),g=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),l="string"==typeof c?c:g.slide;f||d.data("bs.carousel",f=new b(this,g));"number"==typeof c?f.to(c):l?f[l]():g.interval&&f.pause().cycle()})};a.fn.carousel.Constructor=b;a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var b,d=a(this),
g=a(d.attr("data-target")||(b=d.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,""));b=a.extend({},g.data(),d.data());var l=d.attr("data-slide-to");l&&(b.interval=!1);g.carousel(b);(l=d.attr("data-slide-to"))&&g.data("bs.carousel").to(l);c.preventDefault()});a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);c.carousel(c.data())})})}(window.jQuery);
+function(a){var b=function(c,d){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,d);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0};b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){if((c=this.$parent&&
this.$parent.find("> .panel > .in"))&&c.length){var b=c.data("bs.collapse");if(b&&b.transitioning)return;c.collapse("hide");b||c.data("bs.collapse",null)}var d=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[d](0);this.transitioning=1;c=function(){this.$element.removeClass("collapsing").addClass("in")[d]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return c.call(this);b=a.camelCase(["scroll",d].join("-"));this.$element.one(a.support.transition.end,
a.proxy(c,this)).emulateTransitionEnd(350)[d](this.$element[0][b])}}};b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=a.Event("hide.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var b=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(b,this)).emulateTransitionEnd(350),void 0):b.call(this)}}};b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),f=d.data("bs.collapse"),g=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);f||d.data("bs.collapse",f=new b(this,g));"string"==typeof c&&f[c]()})};a.fn.collapse.Constructor=b;a.fn.collapse.noConflict=
function(){return a.fn.collapse=d,this};a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(c){var b,d=a(this);c=d.attr("data-target")||c.preventDefault()||(b=d.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"");b=a(c);var g=(c=b.data("bs.collapse"))?"toggle":d.data(),l=d.attr("data-parent"),h=l&&a(l);c&&c.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(d).addClass("collapsed"),d[b.hasClass("in")?"addClass":"removeClass"]("collapsed"));b.collapse(g)})}(window.jQuery);
+function(a){function b(){a(c).remove();a(e).each(function(c){var b=d(a(this));b.hasClass("open")&&(b.trigger(c=a.Event("hide.bs.dropdown")),c.isDefaultPrevented()||b.removeClass("open").trigger("hidden.bs.dropdown"))})}function d(c){var b=c.attr("data-target");b||(b=c.attr("href"),b=b&&/#/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&a(b))&&b.length?b:c.parent()}var c=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(c){a(c).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=
function(c){var e=a(this);if(!e.is(".disabled, :disabled")){var f=d(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(c=a.Event("show.bs.dropdown")),c.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown");e.focus()}return!1}};f.prototype.keydown=function(c){if(/(38|40|27)/.test(c.keyCode)){var b=a(this);if(c.preventDefault(),c.stopPropagation(),
!b.is(".disabled, :disabled")){var f=d(b),g=f.hasClass("open");if(!g||g&&27==c.keyCode)return 27==c.which&&f.find(e).focus(),b.click();b=a("[role=menu] li:not(.divider):visible a",f);b.length&&(f=b.index(b.filter(":focus")),38==c.keyCode&&0<f&&f--,40==c.keyCode&&f<b.length-1&&f++,~f||(f=0),b.eq(f).focus())}}};var g=a.fn.dropdown;a.fn.dropdown=function(c){return this.each(function(){var b=a(this),d=b.data("dropdown");d||b.data("dropdown",d=new f(this));"string"==typeof c&&d[c].call(b)})};a.fn.dropdown.Constructor=
f;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this};a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(window.jQuery);
+function(a){var b=function(c,b){this.options=b;this.$element=a(c);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)};b.prototype.show=function(c){var b=this,d=a.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(d);this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',
a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show();d&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:c});d?b.$element.find(".modal-dialog").one(a.support.transition.end,function(){b.$element.focus().trigger(f)}).emulateTransitionEnd(300):b.$element.focus().trigger(f)}))};b.prototype.hide=
function(c){c&&c.preventDefault();c=a.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",
a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))};b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};b.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(c){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&b;if(this.$backdrop=a('<div class="modal-backdrop '+b+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),
d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),c)d?this.$backdrop.one(a.support.transition.end,c).emulateTransitionEnd(150):c()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,c).emulateTransitionEnd(150):c()):c&&c()};var d=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var f=a(this),g=f.data("bs.modal"),l=a.extend({},b.DEFAULTS,f.data(),"object"==typeof c&&
c);g||f.data("bs.modal",g=new b(this,l));"string"==typeof c?g[c](d):l.show&&g.show(d)})};a.fn.modal.Constructor=b;a.fn.modal.noConflict=function(){return a.fn.modal=d,this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var b=a(this),d=b.attr("href"),g=a(b.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),d=g.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},g.data(),b.data());c.preventDefault();g.modal(d,this).one("hide",function(){b.is(":visible")&&b.focus()})});
a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery);
+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};b.prototype.init=function(c,b,d){this.enabled=!0;this.type=c;this.$element=a(b);this.options=this.getOptions(d);c=this.options.trigger.split(" ");
for(b=c.length;b--;)if(d=c[b],"click"==d)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=d){var g="hover"==d?"mouseleave":"blur";this.$element.on(("hover"==d?"mouseenter":"focus")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(g+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};b.prototype.getDefaults=
function(){return b.DEFAULTS};b.prototype.getOptions=function(c){return c=a.extend({},this.getDefaults(),this.$element.data(),c),c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),c};b.prototype.getDelegateOptions=function(){var c={},b=this.getDefaults();return this._options&&a.each(this._options,function(a,d){b[a]!=d&&(c[a]=d)}),c};b.prototype.enter=function(c){var b=c instanceof this.constructor?c:a(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
return clearTimeout(b.timeout),b.hoverState="in",b.options.delay&&b.options.delay.show?(b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show),void 0):b.show()};b.prototype.leave=function(c){var b=c instanceof this.constructor?c:a(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(b.timeout),b.hoverState="out",b.options.delay&&b.options.delay.hide?(b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide),
void 0):b.hide()};b.prototype.show=function(){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(c),!c.isDefaultPrevented())){var b=this.tip();this.setContent();this.options.animation&&b.addClass("fade");var c="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,d=/\s?auto?\s?/i,g=d.test(c);g&&(c=c.replace(d,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(c);this.options.container?
b.appendTo(this.options.container):b.insertAfter(this.$element);var d=this.getPosition(),l=b[0].offsetWidth,h=b[0].offsetHeight;if(g){var q=this.$element.parent(),g=c,p=document.documentElement.scrollTop||document.body.scrollTop,w="body"==this.options.container?window.innerWidth:q.outerWidth(),J="body"==this.options.container?window.innerHeight:q.outerHeight(),q="body"==this.options.container?0:q.offset().left,c="bottom"==c&&d.top+d.height+h-p>J?"top":"top"==c&&0>d.top-p-h?"bottom":"right"==c&&d.right+
l>w?"left":"left"==c&&d.left-l<q?"right":c;b.removeClass(g).addClass(c)}b=this.getCalculatedOffset(c,d,l,h);this.applyPlacement(b,c);this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(a,b){var d,g=this.tip(),l=g[0].offsetWidth,h=g[0].offsetHeight,q=parseInt(g.css("margin-top"),10),p=parseInt(g.css("margin-left"),10);isNaN(q)&&(q=0);isNaN(p)&&(p=0);a.top+=q;a.left+=p;g.offset(a).addClass("in");q=g[0].offsetWidth;p=g[0].offsetHeight;("top"==b&&p!=h&&(d=!0,a.top=a.top+
h-p),/bottom|top/.test(b))?(h=0,0>a.left&&(h=-2*a.left,a.left=0,g.offset(a),q=g[0].offsetWidth),this.replaceArrow(h-l+q,q,"left")):this.replaceArrow(p-h,p,"top");d&&g.offset(a)};b.prototype.replaceArrow=function(a,b,d){this.arrow().css(d,a?50*(1-a/b)+"%":"")};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};b.prototype.hide=function(){function c(){"in"!=b.hoverState&&d.detach()}
var b=this,d=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,c).emulateTransitionEnd(150):c(),this.$element.trigger("hidden.bs."+this.type),this)};b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};b.prototype.hasContent=
function(){return this.getTitle()};b.prototype.getPosition=function(){var c=this.$element[0];return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():{width:c.offsetWidth,height:c.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(a,b,d,g){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-d/2}:"top"==a?{top:b.top-g,left:b.left+b.width/2-d/2}:"left"==a?{top:b.top+b.height/2-g/2,left:b.left-d}:{top:b.top+b.height/2-g/2,left:b.left+
b.width}};b.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};b.prototype.enable=function(){this.enabled=
!0};b.prototype.disable=function(){this.enabled=!1};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(c){c=c?a(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),f=d.data("bs.tooltip"),g="object"==
typeof c&&c;f||d.data("bs.tooltip",f=new b(this,g));"string"==typeof c&&f[c]()})};a.fn.tooltip.Constructor=b;a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(window.jQuery);
+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=
function(){var a=this.tip(),b=this.getTitle(),d=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content")[this.options.html?"html":"text"](d);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?
b.content.call(a[0]):b.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),f=d.data("bs.popover"),g="object"==typeof c&&c;f||d.data("bs.popover",f=new b(this,g));"string"==typeof c&&f[c]()})};a.fn.popover.Constructor=b;a.fn.popover.noConflict=function(){return a.fn.popover=d,
this}}(window.jQuery);
+function(a){function b(c,d){var f,g=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c);this.$body=a("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",g);this.options=a.extend({},b.DEFAULTS,d);this.selector=(this.options.target||(f=a(c).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=a([]);this.targets=a([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var c=
this.$element[0]==window?"offset":"position";this.offsets=a([]);this.targets=a([]);var b=this;this.$body.find(this.selector).map(function(){var d=a(this),d=d.data("target")||d.attr("href"),g=/^#\w/.test(d)&&a(d);return g&&g.length&&[[g[c]().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+
this.options.offset,d=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),g=this.offsets,l=this.targets,h=this.activeTarget;if(b>=d)return h!=(a=l.last()[0])&&this.activate(a);for(a=g.length;a--;)h!=l[a]&&b>=g[a]&&(!g[a+1]||b<=g[a+1])&&this.activate(l[a])};b.prototype.activate=function(b){this.activeTarget=b;a(this.selector).parents(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");
b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")};var d=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),f=d.data("bs.scrollspy"),g="object"==typeof c&&c;f||d.data("bs.scrollspy",f=new b(this,g));"string"==typeof c&&f[c]()})};a.fn.scrollspy.Constructor=b;a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery);
+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,d=b.closest("ul:not(.dropdown-menu)"),f=b.attr("data-target");if(f||(f=b.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var g=d.find(".active:last a")[0],l=a.Event("show.bs.tab",{relatedTarget:g});(b.trigger(l),l.isDefaultPrevented())||(f=a(f),this.activate(b.parent("li"),d),this.activate(f,f.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:g})}))}};
b.prototype.activate=function(b,d,f){function g(){l.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");f&&f()}var l=d.find("> .active"),h=f&&a.support.transition&&l.hasClass("fade");h?l.one(a.support.transition.end,g).emulateTransitionEnd(150):g();l.removeClass("in")};var d=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=
a(this),f=d.data("bs.tab");f||d.data("bs.tab",f=new b(this));"string"==typeof c&&f[c]()})};a.fn.tab.Constructor=b;a.fn.tab.noConflict=function(){return a.fn.tab=d,this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(window.jQuery);
+function(a){var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d);this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(c);this.affixed=this.unpin=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=
a(document).height(),d=this.$window.scrollTop(),f=this.$element.offset(),g=this.options.offset,l=g.top,h=g.bottom;"object"!=typeof g&&(h=l=g);"function"==typeof l&&(l=g.top());"function"==typeof h&&(h=g.bottom());c=null!=this.unpin&&d+this.unpin<=f.top?!1:null!=h&&f.top+this.$element.height()>=c-h?"bottom":null!=l&&l>=d?"top":!1;this.affixed!==c&&(this.unpin&&this.$element.css("top",""),this.affixed=c,this.unpin="bottom"==c?f.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(c?"-"+c:
"")),"bottom"==c&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var d=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),f=d.data("bs.affix"),g="object"==typeof c&&c;f||d.data("bs.affix",f=new b(this,g));"string"==typeof c&&f[c]()})};a.fn.affix.Constructor=b;a.fn.affix.noConflict=function(){return a.fn.affix=d,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),d=b.data();d.offset=d.offset||{};d.offsetBottom&&
(d.offset.bottom=d.offsetBottom);d.offsetTop&&(d.offset.top=d.offsetTop);b.affix(d)})})}(window.jQuery);
(function(a,b,d){function c(c,d,e){c=b.createElement(c);return d&&(c.id=L+d),e&&(c.style.cssText=e),a(c)}function e(){return d.innerHeight?d.innerHeight:a(d).height()}function f(a){var b=C.length;a=(M+a)%b;return 0>a?b+a:a}function g(a,b){return Math.round((/%/.test(a)?("x"===b?I.width():e())/100:1)*parseInt(a,10))}function l(a,b){return a.retinaUrl&&1<d.devicePixelRatio?b.replace(a.photoRegex,a.retinaSuffix):b}function h(a){"contains"in v[0]&&!v[0].contains(a.target)&&(a.stopPropagation(),v.focus())}
function q(){var b,c=a.data(Q,da);null==c?(m=a.extend({},ta),console&&console.log&&console.log("Error: cboxElement missing settings object")):m=a.extend({},c);for(b in m)a.isFunction(m[b])&&"on"!==b.slice(0,2)&&(m[b]=m[b].call(Q));m.rel=m.rel||Q.rel||a(Q).data("rel")||"nofollow";m.href=m.href||a(Q).attr("href");m.title=m.title||Q.title;"string"==typeof m.href&&(m.href=a.trim(m.href))}function p(c,d){a(b).trigger(c);ba.triggerHandler(c);a.isFunction(d)&&d.call(Q)}function w(d){ua||(Q=d,q(),C=a(Q),
M=0,"nofollow"!==m.rel&&(C=a("."+ha).filter(function(){var b,c=a.data(this,da);return c&&(b=a(this).data("rel")||c.rel||this.rel),b===m.rel}),M=C.index(Q),-1===M&&(C=C.add(Q),M=C.length-1)),B.css({opacity:parseFloat(m.opacity),cursor:m.overlayClose?"pointer":"auto",visibility:"visible"}).show(),Aa&&v.add(B).removeClass(Aa),m.className&&v.add(B).addClass(m.className),Aa=m.className,m.closeButton?K.html(m.close).appendTo(H):K.appendTo("<div/>"),ia||(ia=ca=!0,v.css({visibility:"hidden",display:"block"}),
y=c(F,"LoadedContent","width:0; height:0; overflow:hidden"),H.css({width:"",height:""}).append(y),Z=r.height()+T.height()+H.outerHeight(!0)-H.height(),W=k.width()+E.width()+H.outerWidth(!0)-H.width(),aa=y.outerHeight(!0),X=y.outerWidth(!0),m.w=g(m.initialWidth,"x"),m.h=g(m.initialHeight,"y"),y.css({width:"",height:m.h}),R.position(),p(na,m.onOpen),fa.add(ma).hide(),v.focus(),m.trapFocus&&b.addEventListener&&(b.addEventListener("focus",h,!0),ba.one(oa,function(){b.removeEventListener("focus",h,!0)})),
m.returnFocus&&ba.one(oa,function(){a(Q).focus()})),U())}function J(){!v&&b.body&&(Ba=!1,I=a(d),v=c(F).attr({id:da,"class":!1===a.support.opacity?L+"IE":"",role:"dialog",tabindex:"-1"}).hide(),B=c(F,"Overlay").hide(),O=a([c(F,"LoadingOverlay")[0],c(F,"LoadingGraphic")[0]]),u=c(F,"Wrapper"),H=c(F,"Content").append(ma=c(F,"Title"),S=c(F,"Current"),Y=a('<button type="button"/>').attr({id:L+"Previous"}),ja=a('<button type="button"/>').attr({id:L+"Next"}),V=c("button","Slideshow"),O),K=a('<button type="button"/>').attr({id:L+
"Close"}),u.append(c(F).append(c(F,"TopLeft"),r=c(F,"TopCenter"),c(F,"TopRight")),c(F,!1,"clear:left").append(k=c(F,"MiddleLeft"),H,E=c(F,"MiddleRight")),c(F,!1,"clear:left").append(c(F,"BottomLeft"),T=c(F,"BottomCenter"),c(F,"BottomRight"))).find("div div").css({"float":"left"}),z=c(F,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),fa=ja.add(Y).add(S).add(V),a(b.body).append(B,v.append(u,z)))}function x(){function c(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||
a.ctrlKey||(a.preventDefault(),w(this))}return v?(Ba||(Ba=!0,ja.click(function(){R.next()}),Y.click(function(){R.prev()}),K.click(function(){R.close()}),B.click(function(){m.overlayClose&&R.close()}),a(b).bind("keydown."+L,function(a){var b=a.keyCode;ia&&m.escKey&&27===b&&(a.preventDefault(),R.close());ia&&m.arrowKey&&C[1]&&!a.altKey&&(37===b?(a.preventDefault(),Y.click()):39===b&&(a.preventDefault(),ja.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+L,"."+ha,c):a("."+ha).live("click."+L,c)),!0):
!1}function U(){var e,f,h,k=R.prep,r=++ga;ca=!0;A=!1;Q=C[M];q();p(ka);p(ya,m.onLoad);m.h=m.height?g(m.height,"y")-aa-Z:m.innerHeight&&g(m.innerHeight,"y");m.w=m.width?g(m.width,"x")-X-W:m.innerWidth&&g(m.innerWidth,"x");m.mw=m.w;m.mh=m.h;m.maxWidth&&(m.mw=g(m.maxWidth,"x")-X-W,m.mw=m.w&&m.w<m.mw?m.w:m.mw);m.maxHeight&&(m.mh=g(m.maxHeight,"y")-aa-Z,m.mh=m.h&&m.h<m.mh?m.h:m.mh);e=m.href;Fa=setTimeout(function(){O.show()},100);m.inline?(h=c(F).hide().insertBefore(a(e)[0]),ba.one(ka,function(){h.replaceWith(y.children())}),
k(a(e))):m.iframe?k(" "):m.html?k(m.html):m.photo||m.photoRegex.test(e)?(e=l(m,e),A=b.createElement("img"),a(A).addClass(L+"Photo").bind("error",function(){m.title=!1;k(c(F,"Error").html(m.imgError))}).one("load",function(){var b;r===ga&&(a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(Q).attr(c)||a(Q).attr("data-"+c);d&&A.setAttribute(c,d)}),m.retinaImage&&1<d.devicePixelRatio&&(A.height/=d.devicePixelRatio,A.width/=d.devicePixelRatio),m.scalePhotos&&(f=function(){A.height-=A.height*
b;A.width-=A.width*b},m.mw&&A.width>m.mw&&(b=(A.width-m.mw)/A.width,f()),m.mh&&A.height>m.mh&&(b=(A.height-m.mh)/A.height,f())),m.h&&(A.style.marginTop=Math.max(m.mh-A.height,0)/2+"px"),C[1]&&(m.loop||C[M+1])&&(A.style.cursor="pointer",A.onclick=function(){R.next()}),A.style.width=A.width+"px",A.style.height=A.height+"px",setTimeout(function(){k(A)},1))}),setTimeout(function(){A.src=e},1)):e&&z.load(e,m.data,function(b,d){r===ga&&k("error"===d?c(F,"Error").html(m.xhrError):a(this).contents())})}var B,
v,u,H,r,k,E,T,C,I,y,z,O,ma,S,V,ja,Y,K,fa,m,Z,W,aa,X,Q,M,A,ia,ca,ua,Fa,R,Aa,Ba,ta={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,
loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},da="colorbox",L="cbox",
ha=L+"Element",na=L+"_open",ya=L+"_load",pa=L+"_complete",qa=L+"_cleanup",oa=L+"_closed",ka=L+"_purge",ba=a("<a/>"),F="div",ga=0,Da={},Ea=function(){function a(){clearTimeout(g)}function b(){(m.loop||C[M+1])&&(a(),g=setTimeout(R.next,m.slideshowSpeed))}function c(){V.html(m.slideshowStop).unbind(k).one(k,d);ba.bind(pa,b).bind(ya,a);v.removeClass(h+"off").addClass(h+"on")}function d(){a();ba.unbind(pa,b).unbind(ya,a);V.html(m.slideshowStart).unbind(k).one(k,function(){R.next();c()});v.removeClass(h+
"on").addClass(h+"off")}function e(){f=!1;V.hide();a();ba.unbind(pa,b).unbind(ya,a);v.removeClass(h+"off "+h+"on")}var f,g,h=L+"Slideshow_",k="click."+L;return function(){f?m.slideshow||(ba.unbind(qa,e),e()):m.slideshow&&C[1]&&(f=!0,ba.one(qa,e),m.slideshowAuto?c():d(),V.show())}}();a.colorbox||(a(J),R=a.fn[da]=a[da]=function(b,c){var d=this;if(b=b||{},J(),x()){if(a.isFunction(d))d=a("<a/>"),b.open=!0;else if(!d[0])return d;c&&(b.onComplete=c);d.each(function(){a.data(this,da,a.extend({},a.data(this,
da)||ta,b))}).addClass(ha);(a.isFunction(b.open)&&b.open.call(d)||b.open)&&w(d[0])}return d},R.position=function(b,c){function d(){r[0].style.width=T[0].style.width=H[0].style.width=parseInt(v[0].style.width,10)-W+"px";H[0].style.height=k[0].style.height=E[0].style.height=parseInt(v[0].style.height,10)-Z+"px"}var f,h,l,y=0,p=0,q=v.offset();if(I.unbind("resize."+L),v.css({top:-9E4,left:-9E4}),h=I.scrollTop(),l=I.scrollLeft(),m.fixed?(q.top-=h,q.left-=l,v.css({position:"fixed"})):(y=h,p=l,v.css({position:"absolute"})),
p+=!1!==m.right?Math.max(I.width()-m.w-X-W-g(m.right,"x"),0):!1!==m.left?g(m.left,"x"):Math.round(Math.max(I.width()-m.w-X-W,0)/2),y+=!1!==m.bottom?Math.max(e()-m.h-aa-Z-g(m.bottom,"y"),0):!1!==m.top?g(m.top,"y"):Math.round(Math.max(e()-m.h-aa-Z,0)/2),v.css({top:q.top,left:q.left,visibility:"visible"}),u[0].style.width=u[0].style.height="9999px",f={width:m.w+X+W,height:m.h+aa+Z,top:y,left:p},b){var z=0;a.each(f,function(a){return f[a]!==Da[a]?(z=b,void 0):void 0});b=z}Da=f;b||v.css(f);v.dequeue().animate(f,
{duration:b||0,complete:function(){d();ca=!1;u[0].style.width=m.w+X+W+"px";u[0].style.height=m.h+aa+Z+"px";m.reposition&&setTimeout(function(){I.bind("resize."+L,R.position)},1);c&&c()},step:d})},R.resize=function(a){var b;ia&&(a=a||{},a.width&&(m.w=g(a.width,"x")-X-W),a.innerWidth&&(m.w=g(a.innerWidth,"x")),y.css({width:m.w}),a.height&&(m.h=g(a.height,"y")-aa-Z),a.innerHeight&&(m.h=g(a.innerHeight,"y")),a.innerHeight||a.height||(b=y.scrollTop(),y.css({height:"auto"}),m.h=y.height()),y.css({height:m.h}),
b&&y.scrollTop(b),R.position("none"===m.transition?0:m.speed))},R.prep=function(d){if(ia){var e,h="none"===m.transition?0:m.speed;y.empty().remove();y=c(F,"LoadedContent").append(d);y.hide().appendTo(z.show()).css({width:(m.w=m.w||y.width(),m.w=m.mw&&m.mw<m.w?m.mw:m.w,m.w),overflow:m.scrolling?"auto":"hidden"}).css({height:(m.h=m.h||y.height(),m.h=m.mh&&m.mh<m.h?m.mh:m.h,m.h)}).prependTo(H);z.hide();a(A).css({"float":"none"});e=function(){function d(){!1===a.support.opacity&&v[0].style.removeAttribute("filter")}
var e,g,k=C.length;ia&&(g=function(){clearTimeout(Fa);O.hide();p(pa,m.onComplete)},ma.html(m.title).add(y).show(),1<k?("string"==typeof m.current&&S.html(m.current.replace("{current}",M+1).replace("{total}",k)).show(),ja[m.loop||k-1>M?"show":"hide"]().html(m.next),Y[m.loop||M?"show":"hide"]().html(m.previous),Ea(),m.preloading&&a.each([f(-1),f(1)],function(){var c,d,e=C[this],f=a.data(e,da);f&&f.href?(c=f.href,a.isFunction(c)&&(c=c.call(e))):c=a(e).attr("href");c&&(f.photo||f.photoRegex.test(c))&&
(c=l(f,c),d=b.createElement("img"),d.src=c)})):fa.hide(),m.iframe?(e=c("iframe")[0],"frameBorder"in e&&(e.frameBorder=0),"allowTransparency"in e&&(e.allowTransparency="true"),m.scrolling||(e.scrolling="no"),a(e).attr({src:m.href,name:(new Date).getTime(),"class":L+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",g).appendTo(y),ba.one(ka,function(){e.src="//about:blank"}),m.fastIframe&&a(e).trigger("load")):g(),"fade"===m.transition?v.fadeTo(h,1,d):d())};"fade"===
m.transition?v.fadeTo(h,0,function(){R.position(0,e)}):R.position(h,e)}},R.next=function(){!ca&&C[1]&&(m.loop||C[M+1])&&(M=f(1),w(C[M]))},R.prev=function(){!ca&&C[1]&&(m.loop||M)&&(M=f(-1),w(C[M]))},R.close=function(){ia&&!ua&&(ua=!0,ia=!1,p(qa,m.onCleanup),I.unbind("."+L),B.fadeTo(m.fadeOut||0,0),v.stop().fadeTo(m.fadeOut||0,0,function(){v.add(B).css({opacity:1,cursor:"auto"}).hide();p(ka);y.empty().remove();setTimeout(function(){ua=!1;p(oa,m.onClosed)},1)}))},R.remove=function(){v&&(v.stop(),a.colorbox.close(),
v.stop().remove(),B.remove(),ua=!1,v=null,a("."+ha).removeData(da).removeClass(ha),a(b).unbind("click."+L))},R.element=function(){return a(Q)},R.settings=ta)})(jQuery,document,window);
(function(a){function b(){x||(x=!0,h(U,function(a){p(a)}))}function d(b,c){var d=a.createElement("script");d.type="text/"+(b.type||"javascript");d.src=b.src||b;d.async=!1;d.onreadystatechange=d.onload=function(){var a=d.readyState;c.done||a&&!/loaded|complete/.test(a)||(c.done=!0,c())};(a.body||w).appendChild(d)}function c(a,b){if(a.state==I)return b&&b();if(a.state==C)return k.ready(a.name,b);if(a.state==T)return a.onpreload.push(function(){c(a,b)});a.state=C;d(a.url,function(){a.state=I;b&&b();
h(v[a.name],function(a){p(a)});g()&&x&&h(v.ALL,function(a){p(a)})})}function e(a,b){void 0===a.state&&(a.state=T,a.onpreload=[],d({src:a.url,type:"cache"},function(){f(a)}))}function f(a){a.state=E;h(a.onpreload,function(a){a.call()})}function g(a){a=a||u;var b,c;for(c in a){if(a.hasOwnProperty(c)&&a[c].state!=I)return!1;b=!0}return b}function l(a){return"[object Function]"==Object.prototype.toString.call(a)}function h(a,b){if(a){"object"==typeof a&&(a=[].slice.call(a));for(var c=0;c<a.length;c++)b.call(a,
a[c],c)}}function q(a){var b;if("object"==typeof a)for(var c in a)a[c]&&(b={name:c,url:a[c]});else b=a.split("/"),b=b[b.length-1],c=b.indexOf("?"),b={name:-1!=c?b.substring(0,c):b,url:a};return(a=u[b.name])&&a.url===b.url?a:u[b.name]=b}function p(a){a._done||(a(),a._done=1)}var w=a.documentElement,J,x,U=[],B=[],v={},u={},H=!0===a.createElement("script").async||"MozAppearance"in a.documentElement.style||window.opera,r=window.head_conf&&head_conf.head||"head",k=window[r]=window[r]||function(){k.ready.apply(null,
arguments)},E=1,T=2,C=3,I=4;H?k.js=function(){var a=arguments,b=a[a.length-1],d={};l(b)||(b=null);h(a,function(e,f){e!=b&&(e=q(e),d[e.name]=e,c(e,b&&f==a.length-2?function(){g(d)&&p(b)}:null))});return k}:k.js=function(){var a=arguments,b=[].slice.call(a,1),d=b[0];if(!J)return B.push(function(){k.js.apply(null,a)}),k;d?(h(b,function(a){l(a)||e(q(a))}),c(q(a[0]),l(d)?d:function(){k.js.apply(null,b)})):c(q(a[0]));return k};k.ready=function(b,c){if(b==a)return x?p(c):U.push(c),k;l(b)&&(c=b,b="ALL");
if("string"!=typeof b||!l(c))return k;var d=u[b];if(d&&d.state==I||"ALL"==b&&g()&&x)return p(c),k;(d=v[b])?d.push(c):v[b]=[c];return k};k.ready(a,function(){g()&&h(v.ALL,function(a){p(a)});k.feature&&k.feature("domloaded",!0)});if(window.addEventListener)a.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",b,!1);else if(window.attachEvent){a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&b()});H=1;try{H=window.frameElement}catch(y){}!H&&w.doScroll&&function(){try{w.doScroll("left"),
b()}catch(a){setTimeout(arguments.callee,1)}}();window.attachEvent("onload",b)}!a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",handler=function(){a.removeEventListener("DOMContentLoaded",handler,!1);a.readyState="complete"},!1));setTimeout(function(){J=!0;h(B,function(a){a()})},300)})(document);
var Reveal=function(){function a(){function a(){e.length&&head.js.apply(null,e);b()}function c(b){head.ready(b.src.match(/([\w\d_\-]*)\.?js$|[^\\\/]*$/i)[0],function(){"function"===typeof b.callback&&b.callback.apply(this);0===--f&&a()})}for(var d=[],e=[],f=0,h=0,g=t.dependencies.length;h<g;h++){var k=t.dependencies[h];if(!k.condition||k.condition())k.async?e.push(k.src):d.push(k.src),c(k)}d.length?(f=d.length,head.js.apply(null,d)):a()}function b(){n.theme=document.querySelector("#theme");n.wrapper=
document.querySelector(".reveal");n.slides=document.querySelector(".reveal .slides");n.slides.classList.add("no-transition");n.background=d(n.wrapper,"div","backgrounds",null);n.progress=d(n.wrapper,"div","progress","<span></span>");n.progressbar=n.progress.querySelector("span");d(n.wrapper,"aside","controls",'<div class="navigate-left"></div><div class="navigate-right"></div><div class="navigate-up"></div><div class="navigate-down"></div>');n.slideNumber=d(n.wrapper,"div","slide-number","");d(n.wrapper,
"div","state-background",null);d(n.wrapper,"div","pause-overlay",null);n.controls=document.querySelector(".reveal .controls");n.controlsLeft=h(document.querySelectorAll(".navigate-left"));n.controlsRight=h(document.querySelectorAll(".navigate-right"));n.controlsUp=h(document.querySelectorAll(".navigate-up"));n.controlsDown=h(document.querySelectorAll(".navigate-down"));n.controlsPrev=h(document.querySelectorAll(".navigate-prev"));n.controlsNext=h(document.querySelectorAll(".navigate-next"));m();e();
Aa();A(!0);setTimeout(function(){n.slides.classList.remove("no-transition");Ya=!0;B("ready",{indexh:D,indexv:N,currentSlide:G})},1)}function d(a,b,c,d){var e=a.querySelector("."+c);e||(e=document.createElement(b),e.classList.add(c),null!==d&&(e.innerHTML=d),a.appendChild(e));return e}function c(){function a(b,c){var d=b.getAttribute("data-background"),e=b.getAttribute("data-background-size"),f=b.getAttribute("data-background-image"),Ha=b.getAttribute("data-background-color"),h=b.getAttribute("data-background-repeat"),
g=b.getAttribute("data-background-position"),k=b.getAttribute("data-background-transition"),l=document.createElement("div");l.className="slide-background";d&&(/^(http|file|\/\/)/gi.test(d)||/\.(svg|png|jpg|jpeg|gif|bmp)$/gi.test(d)?l.style.backgroundImage="url("+d+")":l.style.background=d);(d||Ha||f)&&l.setAttribute("data-background-hash",d+e+f+Ha+h+g+k);e&&(l.style.backgroundSize=e);f&&(l.style.backgroundImage='url("'+f+'")');Ha&&(l.style.backgroundColor=Ha);h&&(l.style.backgroundRepeat=h);g&&(l.style.backgroundPosition=
g);k&&l.setAttribute("data-background-transition",k);c.appendChild(l);return l}x()&&document.body.classList.add("print-pdf");n.background.innerHTML="";n.background.classList.add("no-transition");h(document.querySelectorAll(".reveal .slides>section")).forEach(function(b){var c;c=x()?a(b,b):a(b,n.background);h(b.querySelectorAll("section")).forEach(function(b){x()?a(b,b):a(b,c)})});t.parallaxBackgroundImage?(n.background.style.backgroundImage='url("'+t.parallaxBackgroundImage+'")',n.background.style.backgroundSize=
t.parallaxBackgroundSize,setTimeout(function(){n.wrapper.classList.add("has-parallax-background")},1)):(n.background.style.backgroundImage="",n.wrapper.classList.remove("has-parallax-background"))}function e(a){var b=document.querySelectorAll(".reveal .slides section").length;n.wrapper.classList.remove(t.transition);"object"===typeof a&&l(t,a);!1===ea.transforms3d&&(t.transition="linear");n.wrapper.classList.add(t.transition);n.wrapper.setAttribute("data-transition-speed",t.transitionSpeed);n.wrapper.setAttribute("data-background-transition",
t.backgroundTransition);n.controls.style.display=t.controls?"block":"none";n.progress.style.display=t.progress?"block":"none";t.rtl?n.wrapper.classList.add("rtl"):n.wrapper.classList.remove("rtl");t.center?n.wrapper.classList.add("center"):n.wrapper.classList.remove("center");t.mouseWheel?(document.addEventListener("DOMMouseScroll",Ga,!1),document.addEventListener("mousewheel",Ga,!1)):(document.removeEventListener("DOMMouseScroll",Ga,!1),document.removeEventListener("mousewheel",Ga,!1));t.rollingLinks?
v():u();t.previewLinks?H():(r(),H("[data-preview-link]"));1<b&&t.autoSlide&&t.autoSlideStoppable&&ea.canvas&&ea.requestAnimationFrame?(ra=new za(n.wrapper,function(){return Math.min(Math.max((Date.now()-Za)/va,0),1)}),ra.on("click",gb),Ca=!1):ra&&(ra.destroy(),ra=null);if(t.theme&&n.theme){a=n.theme.getAttribute("href");var b=/[^\/]*?(?=\.css)/,c=a.match(b)[0];t.theme!==c&&(a=a.replace(b,t.theme),n.theme.setAttribute("href",a))}fa()}function f(){La=!0;window.addEventListener("hashchange",$a,!1);window.addEventListener("resize",
ab,!1);t.touch&&(n.wrapper.addEventListener("touchstart",Ea,!1),n.wrapper.addEventListener("touchmove",Ja,!1),n.wrapper.addEventListener("touchend",Ka,!1),window.navigator.msPointerEnabled&&(n.wrapper.addEventListener("MSPointerDown",Qa,!1),n.wrapper.addEventListener("MSPointerMove",Ra,!1),n.wrapper.addEventListener("MSPointerUp",Sa,!1)));t.keyboard&&document.addEventListener("keydown",Da,!1);t.progress&&n.progress&&n.progress.addEventListener("click",Ta,!1);if(t.focusBodyOnPageVisiblityChange){var a;
"hidden"in document?a="visibilitychange":"msHidden"in document?a="msvisibilitychange":"webkitHidden"in document&&(a="webkitvisibilitychange");a&&document.addEventListener(a,hb,!1)}["touchstart","click"].forEach(function(a){n.controlsLeft.forEach(function(b){b.addEventListener(a,Ua,!1)});n.controlsRight.forEach(function(b){b.addEventListener(a,Va,!1)});n.controlsUp.forEach(function(b){b.addEventListener(a,Wa,!1)});n.controlsDown.forEach(function(b){b.addEventListener(a,Xa,!1)});n.controlsPrev.forEach(function(b){b.addEventListener(a,
bb,!1)});n.controlsNext.forEach(function(b){b.addEventListener(a,cb,!1)})})}function g(){La=!1;document.removeEventListener("keydown",Da,!1);window.removeEventListener("hashchange",$a,!1);window.removeEventListener("resize",ab,!1);n.wrapper.removeEventListener("touchstart",Ea,!1);n.wrapper.removeEventListener("touchmove",Ja,!1);n.wrapper.removeEventListener("touchend",Ka,!1);window.navigator.msPointerEnabled&&(n.wrapper.removeEventListener("MSPointerDown",Qa,!1),n.wrapper.removeEventListener("MSPointerMove",
Ra,!1),n.wrapper.removeEventListener("MSPointerUp",Sa,!1));t.progress&&n.progress&&n.progress.removeEventListener("click",Ta,!1);["touchstart","click"].forEach(function(a){n.controlsLeft.forEach(function(b){b.removeEventListener(a,Ua,!1)});n.controlsRight.forEach(function(b){b.removeEventListener(a,Va,!1)});n.controlsUp.forEach(function(b){b.removeEventListener(a,Wa,!1)});n.controlsDown.forEach(function(b){b.removeEventListener(a,Xa,!1)});n.controlsPrev.forEach(function(b){b.removeEventListener(a,
bb,!1)});n.controlsNext.forEach(function(b){b.removeEventListener(a,cb,!1)})})}function l(a,b){for(var c in b)a[c]=b[c]}function h(a){return Array.prototype.slice.call(a)}function q(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function p(a,b){a.style.WebkitTransform=b;a.style.MozTransform=b;a.style.msTransform=b;a.style.OTransform=b;a.style.transform=b}function w(a){var b=0;if(a){var c=0;h(a.childNodes).forEach(function(a){"number"===typeof a.offsetTop&&a.style&&("absolute"===a.style.position&&
(c+=1),b=Math.max(b,a.offsetTop+a.offsetHeight))});0===c&&(b=a.offsetHeight)}return b}function J(a,b){b=b||0;if(a){h(a.parentNode.childNodes).forEach(function(c){if("number"===typeof c.offsetHeight&&c!==a){var d=window.getComputedStyle(c),e=parseInt(d.marginTop,10),d=parseInt(d.marginBottom,10);b-=c.offsetHeight+e+d}});var c=window.getComputedStyle(a);b-=parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)}return b}function x(){return/print-pdf/gi.test(window.location.search)}function U(){setTimeout(function(){window.scrollTo(0,
1)},10)}function B(a,b){var c=document.createEvent("HTMLEvents",1,2);c.initEvent(a,!0,!0);l(c,b);n.wrapper.dispatchEvent(c)}function v(){if(ea.transforms3d&&!("msPerspective"in document.body.style))for(var a=document.querySelectorAll(".reveal .slides section a:not(.image)"),b=0,c=a.length;b<c;b++){var d=a[b];if(!(!d.textContent||d.querySelector("*")||d.className&&d.classList.contains(d,"roll"))){var e=document.createElement("span");e.setAttribute("data-title",d.text);e.innerHTML=d.innerHTML;d.classList.add("roll");
d.innerHTML="";d.appendChild(e)}}}function u(){for(var a=document.querySelectorAll(".reveal .slides section a.roll"),b=0,c=a.length;b<c;b++){var d=a[b],e=d.querySelector("span");e&&(d.classList.remove("roll"),d.innerHTML=e.innerHTML)}}function H(a){h(document.querySelectorAll(a?a:"a")).forEach(function(a){/^(http|www)/gi.test(a.getAttribute("href"))&&a.addEventListener("click",db,!1)})}function r(){h(document.querySelectorAll("a")).forEach(function(a){/^(http|www)/gi.test(a.getAttribute("href"))&&
a.removeEventListener("click",db,!1)})}function k(a){E();n.preview=document.createElement("div");n.preview.classList.add("preview-link-overlay");n.wrapper.appendChild(n.preview);n.preview.innerHTML=['<header><a class="close" href="#"><span class="icon"></span></a>','<a class="external" href="'+a+'" target="_blank"><span class="icon"></span></a>','</header><div class="spinner"></div><div class="viewport">','<iframe src="'+a+'"></iframe>',"</div>"].join("");n.preview.querySelector("iframe").addEventListener("load",
function(a){n.preview.classList.add("loaded")},!1);n.preview.querySelector(".close").addEventListener("click",function(a){E();a.preventDefault()},!1);n.preview.querySelector(".external").addEventListener("click",function(a){E()},!1);setTimeout(function(){n.preview.classList.add("visible")},1)}function E(){n.preview&&(n.preview.setAttribute("src",""),n.preview.parentNode.removeChild(n.preview),n.preview=null)}function T(){if(n.wrapper&&!x()){var a=n.wrapper.offsetWidth,b=n.wrapper.offsetHeight,a=a-
b*t.margin,b=b-b*t.margin,c=t.width,d=t.height;C(t.width,t.height,20);"string"===typeof c&&/%$/.test(c)&&(c=parseInt(c,10)/100*a);"string"===typeof d&&/%$/.test(d)&&(d=parseInt(d,10)/100*b);n.slides.style.width=c+"px";n.slides.style.height=d+"px";wa=Math.min(a/c,b/d);wa=Math.max(wa,t.minScale);wa=Math.min(wa,t.maxScale);"undefined"===typeof n.slides.style.zoom||navigator.userAgent.match(/(iphone|ipod|ipad|android)/gi)?p(n.slides,"translate(-50%, -50%) scale("+wa+") translate(50%, 50%)"):n.slides.style.zoom=
wa;a=h(document.querySelectorAll(".reveal .slides section"));b=0;for(c=a.length;b<c;b++){var e=a[b];"none"!==e.style.display&&(t.center||e.classList.contains("center")?e.classList.contains("stack")?e.style.top=0:e.style.top=Math.max(-(w(e)/2)-20,-d/2)+"px":e.style.top="")}X();ia()}}function C(a,b,c){h(n.slides.querySelectorAll("section > .stretch")).forEach(function(d){var e=J(d,b-2*c);if(/(img|video)/gi.test(d.nodeName)){var f=d.naturalWidth||d.videoWidth,h=d.naturalHeight||d.videoHeight,e=Math.min(a/
f,e/h);d.style.width=f*e+"px";d.style.height=h*e+"px"}else d.style.width=a+"px",d.style.height=e+"px"})}function I(a,b){"object"===typeof a&&"function"===typeof a.setAttribute&&a.setAttribute("data-previous-indexv",b||0)}function y(a){if("object"===typeof a&&"function"===typeof a.setAttribute&&a.classList.contains("stack")){var b=a.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(a.getAttribute(b)||0,10)}return 0}function z(){if(t.overview){clearTimeout(sa);
sa=-1;var a=n.wrapper.classList.contains("overview"),b=400>window.innerWidth?1E3:2500;n.wrapper.classList.add("overview");n.wrapper.classList.remove("overview-deactivating");clearTimeout(Ma);clearTimeout(Na);Ma=setTimeout(function(){for(var c=document.querySelectorAll(".reveal .slides>section"),d=0,e=c.length;d<e;d++){var f=c[d],h=t.rtl?-105:105;f.setAttribute("data-index-h",d);p(f,"translateZ(-"+b+"px) translate("+(d-D)*h+"%, 0%)");if(f.classList.contains("stack"))for(var h=f.querySelectorAll("section"),
g=0,k=h.length;g<k;g++){var l=d===D?N:y(f),m=h[g];m.setAttribute("data-index-h",d);m.setAttribute("data-index-v",g);p(m,"translate(0%, "+105*(g-l)+"%)");m.addEventListener("click",Oa,!0)}else f.addEventListener("click",Oa,!0)}aa();T();a||B("overviewshown",{indexh:D,indexv:N,currentSlide:G})},10)}}function O(){t.overview&&(clearTimeout(Ma),clearTimeout(Na),n.wrapper.classList.remove("overview"),n.wrapper.classList.add("overview-deactivating"),Na=setTimeout(function(){n.wrapper.classList.remove("overview-deactivating")},
1),h(document.querySelectorAll(".reveal .slides section")).forEach(function(a){p(a,"");a.removeEventListener("click",Oa,!0)}),K(D,N),na(),B("overviewhidden",{indexh:D,indexv:N,currentSlide:G}))}function ma(a){"boolean"===typeof a?a?z():O():S()?O():z()}function S(){return n.wrapper.classList.contains("overview")}function V(a){return(a=a?a:G)&&a.parentNode&&!!a.parentNode.nodeName.match(/section/i)}function ja(){if(Y()){var a=n.wrapper.classList.contains("paused");n.wrapper.classList.remove("paused");
na();a&&B("resumed")}else a=n.wrapper.classList.contains("paused"),clearTimeout(sa),sa=-1,n.wrapper.classList.add("paused"),!1===a&&B("paused")}function Y(){return n.wrapper.classList.contains("paused")}function K(a,b,c,d){la=G;var e=document.querySelectorAll(".reveal .slides>section");void 0===b&&(b=y(e[a]));la&&la.parentNode&&la.parentNode.classList.contains("stack")&&I(la.parentNode,N);var f=xa.concat();xa.length=0;var g=D||0,k=N||0;D=W(".reveal .slides>section",void 0===a?D:a);N=W(".reveal .slides>section.present>section",
void 0===b?N:b);aa();T();a=0;b=xa.length;a:for(;a<b;a++){for(var l=0;l<f.length;l++)if(f[l]===xa[a]){f.splice(l,1);continue a}document.documentElement.classList.add(xa[a]);B(xa[a])}for(;f.length;)document.documentElement.classList.remove(f.pop());S()&&z();e=e[D];G=e.querySelectorAll("section")[N]||e;"undefined"!==typeof c&&da(c);(c=D!==g||N!==k)?B("slidechanged",{indexh:D,indexv:N,previousSlide:la,currentSlide:G,origin:d}):la=null;la&&(la.classList.remove("present"),document.querySelector(".reveal .slides>section:first-of-type").classList.contains("present")&&
setTimeout(function(){var a=h(document.querySelectorAll(".reveal .slides>section.stack")),b;for(b in a)a[b]&&I(a[b],0)},0));c&&(R(la),Fa(G));M();X();A();ia();Q();Ba();na()}function fa(){g();f();T();va=t.autoSlide;na();c();Z();M();X();A(!0);Q()}function m(){h(document.querySelectorAll(".reveal .slides>section")).forEach(function(a){h(a.querySelectorAll("section")).forEach(function(a,b){0<b&&(a.classList.remove("present"),a.classList.remove("past"),a.classList.add("future"))})})}function Z(){h(document.querySelectorAll(".reveal .slides>section")).forEach(function(a){var b=
h(a.querySelectorAll("section"));b.forEach(function(a,b){ta(a.querySelectorAll(".fragment"))});0===b.length&&ta(a.querySelectorAll(".fragment"))})}function W(a,b){var c=h(document.querySelectorAll(a)),d=c.length;if(d){t.loop&&(b%=d,0>b&&(b=d+b));b=Math.max(Math.min(b,d-1),0);for(var e=0;e<d;e++){var f=c[e],g=t.rtl&&!V(f);f.classList.remove("past");f.classList.remove("present");f.classList.remove("future");f.setAttribute("hidden","");if(e<b)for(f.classList.add(g?"future":"past"),g=h(f.querySelectorAll(".fragment"));g.length;){var k=
g.pop();k.classList.add("visible");k.classList.remove("current-fragment")}else if(e>b)for(f.classList.add(g?"past":"future"),g=h(f.querySelectorAll(".fragment.visible"));g.length;)k=g.pop(),k.classList.remove("visible"),k.classList.remove("current-fragment");f.querySelector("section")&&f.classList.add("stack")}c[b].classList.add("present");c[b].removeAttribute("hidden");(c=c[b].getAttribute("data-state"))&&(xa=xa.concat(c.split(" ")))}else b=0;return b}function aa(){var a=h(document.querySelectorAll(".reveal .slides>section")),
b=a.length,c,d;if(b){var e=S()?10:t.viewDistance;Pa&&(e=S()?6:1);for(var f=0;f<b;f++){d=a[f];var g=h(d.querySelectorAll("section")),k=g.length;c=Math.abs((D-f)%(b-e))||0;d.style.display=c>e?"none":"block";if(k)for(var l=y(d),m=0;m<k;m++){var n=g[m];d=f===D?Math.abs(N-m):Math.abs(m-l);n.style.display=c+d>e?"none":"block"}}}}function X(){if(t.progress&&n.progress){var a=h(document.querySelectorAll(".reveal .slides>section")),b=document.querySelectorAll(".reveal .slides section:not(.stack)").length,
c=0,d=0;a:for(;d<a.length;d++){for(var e=a[d],f=h(e.querySelectorAll("section")),g=0;g<f.length;g++){if(f[g].classList.contains("present"))break a;c++}if(e.classList.contains("present"))break;!1===e.classList.contains("stack")&&c++}n.progressbar.style.width=c/(b-1)*window.innerWidth+"px"}}function Q(){if(t.slideNumber&&n.slideNumber){var a=D;0<N&&(a+=" - "+N);n.slideNumber.innerHTML=a}}function M(){var a=ca(),b=ua();n.controlsLeft.concat(n.controlsRight).concat(n.controlsUp).concat(n.controlsDown).concat(n.controlsPrev).concat(n.controlsNext).forEach(function(a){a.classList.remove("enabled");
a.classList.remove("fragmented")});a.left&&n.controlsLeft.forEach(function(a){a.classList.add("enabled")});a.right&&n.controlsRight.forEach(function(a){a.classList.add("enabled")});a.up&&n.controlsUp.forEach(function(a){a.classList.add("enabled")});a.down&&n.controlsDown.forEach(function(a){a.classList.add("enabled")});(a.left||a.up)&&n.controlsPrev.forEach(function(a){a.classList.add("enabled")});(a.right||a.down)&&n.controlsNext.forEach(function(a){a.classList.add("enabled")});G&&(b.prev&&n.controlsPrev.forEach(function(a){a.classList.add("fragmented",
"enabled")}),b.next&&n.controlsNext.forEach(function(a){a.classList.add("fragmented","enabled")}),V(G)?(b.prev&&n.controlsUp.forEach(function(a){a.classList.add("fragmented","enabled")}),b.next&&n.controlsDown.forEach(function(a){a.classList.add("fragmented","enabled")})):(b.prev&&n.controlsLeft.forEach(function(a){a.classList.add("fragmented","enabled")}),b.next&&n.controlsRight.forEach(function(a){a.classList.add("fragmented","enabled")})))}function A(a){var b=null,c=t.rtl?"future":"past",d=t.rtl?
"past":"future";h(n.background.childNodes).forEach(function(e,f){f<D?e.className="slide-background "+c:f>D?e.className="slide-background "+d:(e.className="slide-background present",b=e);(a||f===D)&&h(e.childNodes).forEach(function(a,c){c<N?a.className="slide-background past":c>N?a.className="slide-background future":(a.className="slide-background present",f===D&&(b=a))})});if(b){var e=Ia?Ia.getAttribute("data-background-hash"):null,f=b.getAttribute("data-background-hash");f&&f===e&&b!==Ia&&n.background.classList.add("no-transition");
Ia=b}setTimeout(function(){n.background.classList.remove("no-transition")},1)}function ia(){if(t.parallaxBackgroundImage){var a=document.querySelectorAll(".reveal .slides>section"),b=document.querySelectorAll(".reveal .slides>section.present>section"),c=n.background.style.backgroundSize.split(" "),d;1===c.length?d=c=parseInt(c[0],10):(d=parseInt(c[0],10),c=parseInt(c[1],10));var e=n.background.offsetHeight,b=b.length;n.background.style.backgroundPosition=-(d-n.background.offsetWidth)/(a.length-1)*
D+"px "+(0<b?-(c-e)/(b-1)*N:0)+"px"}}function ca(){var a=document.querySelectorAll(".reveal .slides>section"),b=document.querySelectorAll(".reveal .slides>section.present>section"),a={left:0<D||t.loop,right:D<a.length-1||t.loop,up:0<N,down:N<b.length-1};t.rtl&&(b=a.left,a.left=a.right,a.right=b);return a}function ua(){if(G&&t.fragments){var a=G.querySelectorAll(".fragment"),b=G.querySelectorAll(".fragment:not(.visible)");return{prev:0<a.length-b.length,next:!!b.length}}return{prev:!1,next:!1}}function Fa(a){a&&
!window.location.search.match(/receiver/gi)&&(h(a.querySelectorAll("video, audio")).forEach(function(a){a.hasAttribute("data-autoplay")&&a.play()}),h(a.querySelectorAll("iframe")).forEach(function(a){a.contentWindow.postMessage("slide:start","*")}),h(a.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach(function(a){a.hasAttribute("data-autoplay")&&a.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}))}function R(a){a&&(h(a.querySelectorAll("video, audio")).forEach(function(a){a.hasAttribute("data-ignore")||
a.pause()}),h(a.querySelectorAll("iframe")).forEach(function(a){a.contentWindow.postMessage("slide:stop","*")}),h(a.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach(function(a){a.hasAttribute("data-ignore")||"function"!==typeof a.contentWindow.postMessage||a.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}function Aa(){var a=window.location.hash,b=a.slice(2).split("/"),a=a.replace(/#|\//gi,"");isNaN(parseInt(b[0],10))&&a.length?(b=document.querySelector("#"+
a))?(b=Reveal.getIndices(b),K(b.h,b.v)):K(D||0,N||0):(a=parseInt(b[0],10)||0,b=parseInt(b[1],10)||0,a===D&&b===N||K(a,b))}function Ba(a){if(t.history)if(clearTimeout(eb),"number"===typeof a)eb=setTimeout(Ba,a);else{a="/";if(G&&"string"===typeof G.getAttribute("id"))a="/"+G.getAttribute("id");else{if(0<D||0<N)a+=D;0<N&&(a+="/"+N)}window.location.hash=a}}function ta(a){a=h(a);var b=[],c=[],d=[];a.forEach(function(a,d){if(a.hasAttribute("data-fragment-index")){var e=parseInt(a.getAttribute("data-fragment-index"),
10);b[e]||(b[e]=[]);b[e].push(a)}else c.push([a])});var b=b.concat(c),e=0;b.forEach(function(a){a.forEach(function(a){d.push(a);a.setAttribute("data-fragment-index",e)});e++});return d}function da(a,b){if(G&&t.fragments){var c=ta(G.querySelectorAll(".fragment"));if(c.length){if("number"!==typeof a){var d=ta(G.querySelectorAll(".fragment.visible")).pop();a=d?parseInt(d.getAttribute("data-fragment-index")||0,10):-1}"number"===typeof b&&(a+=b);var e=[],f=[];h(c).forEach(function(b,c){b.hasAttribute("data-fragment-index")&&
(c=parseInt(b.getAttribute("data-fragment-index"),10));c<=a?(b.classList.contains("visible")||e.push(b),b.classList.add("visible"),b.classList.remove("current-fragment"),c===a&&b.classList.add("current-fragment")):(b.classList.contains("visible")&&f.push(b),b.classList.remove("visible"),b.classList.remove("current-fragment"))});f.length&&B("fragmenthidden",{fragment:f[0],fragments:f});e.length&&B("fragmentshown",{fragment:e[0],fragments:e});M();return!(!e.length&&!f.length)}}return!1}function L(){return da(null,
1)}function ha(){return da(null,-1)}function na(){clearTimeout(sa);sa=-1;if(G){var a=G.parentNode?G.parentNode.getAttribute("data-autoslide"):null,b=G.getAttribute("data-autoslide");va=b?parseInt(b,10):a?parseInt(a,10):t.autoSlide;h(G.querySelectorAll("video, audio")).forEach(function(a){a.hasAttribute("data-autoplay")&&va&&1E3*a.duration>va&&(va=1E3*a.duration+1E3)});!va||Ca||Y()||S()||Reveal.isLastSlide()&&!0!==t.loop||(sa=setTimeout(F,va),Za=Date.now());ra&&ra.setPlaying(-1!==sa)}}function ya(){Ca=
!0;clearTimeout(sa);ra&&ra.setPlaying(!1)}function pa(){t.rtl?(S()||!1===L())&&ca().left&&K(D+1):(S()||!1===ha())&&ca().left&&K(D-1)}function qa(){t.rtl?(S()||!1===ha())&&ca().right&&K(D-1):(S()||!1===L())&&ca().right&&K(D+1)}function oa(){(S()||!1===ha())&&ca().up&&K(D,N-1)}function ka(){(S()||!1===L())&&ca().down&&K(D,N+1)}function ba(){if(!1===ha())if(ca().up)oa();else{var a=document.querySelector(".reveal .slides>section.past:nth-child("+D+")");a&&(a=a.querySelectorAll("section").length-1||void 0,
K(D-1,a))}}function F(){!1===L()&&(ca().down?ka():qa());na()}function ga(a){t.autoSlideStoppable&&ya()}function Da(a){ga(a);if(!(document.activeElement&&(document.activeElement.type||document.activeElement.href||"inherit"!==document.activeElement.contentEditable)||a.shiftKey&&32!==a.keyCode||a.altKey||a.ctrlKey||a.metaKey)){if(Y()&&-1===[66,190,191].indexOf(a.keyCode))return!1;var b=!1;if("object"===typeof t.keyboard)for(var c in t.keyboard)parseInt(c,10)===a.keyCode&&(b=t.keyboard[c],"function"===
typeof b?b.apply(null,[a]):"string"===typeof b&&"function"===typeof Reveal[b]&&Reveal[b].call(),b=!0);if(!1===b)switch(b=!0,a.keyCode){case 80:case 33:ba();break;case 78:case 34:F();break;case 72:case 37:pa();break;case 76:case 39:qa();break;case 75:case 38:oa();break;case 74:case 40:ka();break;case 36:K(0);break;case 35:K(Number.MAX_VALUE);break;case 32:S()?O():a.shiftKey?ba():F();break;case 13:S()?O():b=!1;break;case 66:case 190:case 191:ja();break;case 70:c=document.body;var d=c.requestFullScreen||
c.webkitRequestFullscreen||c.webkitRequestFullScreen||c.mozRequestFullScreen||c.msRequestFullScreen;d&&d.apply(c);break;default:b=!1}b?a.preventDefault():27!==a.keyCode&&79!==a.keyCode||!ea.transforms3d||(n.preview?E():ma(),a.preventDefault());na()}}function Ea(a){P.startX=a.touches[0].clientX;P.startY=a.touches[0].clientY;P.startCount=a.touches.length;2===a.touches.length&&t.overview&&(P.startSpan=q({x:a.touches[1].clientX,y:a.touches[1].clientY},{x:P.startX,y:P.startY}))}function Ja(a){if(P.captured)navigator.userAgent.match(/android/gi)&&
a.preventDefault();else{ga(a);var b=a.touches[0].clientX,c=a.touches[0].clientY;2===a.touches.length&&2===P.startCount&&t.overview?(c=q({x:a.touches[1].clientX,y:a.touches[1].clientY},{x:P.startX,y:P.startY}),Math.abs(P.startSpan-c)>P.threshold&&(P.captured=!0,c<P.startSpan?z():O()),a.preventDefault()):1===a.touches.length&&2!==P.startCount&&(b-=P.startX,c-=P.startY,b>P.threshold&&Math.abs(b)>Math.abs(c)?(P.captured=!0,pa()):b<-P.threshold&&Math.abs(b)>Math.abs(c)?(P.captured=!0,qa()):c>P.threshold?
(P.captured=!0,oa()):c<-P.threshold&&(P.captured=!0,ka()),t.embedded?(P.captured||V(G))&&a.preventDefault():a.preventDefault())}}function Ka(a){P.captured=!1}function Qa(a){a.pointerType===a.MSPOINTER_TYPE_TOUCH&&(a.touches=[{clientX:a.clientX,clientY:a.clientY}],Ea(a))}function Ra(a){a.pointerType===a.MSPOINTER_TYPE_TOUCH&&(a.touches=[{clientX:a.clientX,clientY:a.clientY}],Ja(a))}function Sa(a){a.pointerType===a.MSPOINTER_TYPE_TOUCH&&(a.touches=[{clientX:a.clientX,clientY:a.clientY}],Ka(a))}function Ga(a){600<
Date.now()-fb&&(fb=Date.now(),0<(a.detail||-a.wheelDelta)?F():ba())}function Ta(a){ga(a);a.preventDefault();var b=h(document.querySelectorAll(".reveal .slides>section")).length;K(Math.floor(a.clientX/n.wrapper.offsetWidth*b))}function Ua(a){a.preventDefault();ga();pa()}function Va(a){a.preventDefault();ga();qa()}function Wa(a){a.preventDefault();ga();oa()}function Xa(a){a.preventDefault();ga();ka()}function bb(a){a.preventDefault();ga();ba()}function cb(a){a.preventDefault();ga();F()}function $a(a){Aa()}
function ab(a){T()}function hb(a){!1===(document.webkitHidden||document.msHidden||document.hidden)&&document.activeElement!==document.body&&(document.activeElement.blur(),document.body.focus())}function Oa(a){if(La&&S()){a.preventDefault();for(var b=a.target;b&&!b.nodeName.match(/section/gi);)b=b.parentNode;b&&!b.classList.contains("disabled")&&(O(),b.nodeName.match(/section/gi)&&(a=parseInt(b.getAttribute("data-index-h"),10),b=parseInt(b.getAttribute("data-index-v"),10),K(a,b)))}}function db(a){var b=
a.target.getAttribute("href");b&&(k(b),a.preventDefault())}function gb(a){Reveal.isLastSlide()&&!1===t.loop?(K(0,0),Ca=!1,na()):Ca?(Ca=!1,na()):ya()}function za(a,b){this.diameter=50;this.thickness=3;this.playing=!1;this.progress=0;this.progressOffset=1;this.container=a;this.progressCheck=b;this.canvas=document.createElement("canvas");this.canvas.className="playback";this.canvas.width=this.diameter;this.canvas.height=this.diameter;this.context=this.canvas.getContext("2d");this.container.appendChild(this.canvas);
this.render()}var t={width:960,height:700,margin:.1,minScale:.2,maxScale:1,controls:!0,progress:!0,slideNumber:!1,history:!1,keyboard:!0,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,fragments:!0,embedded:!1,autoSlide:0,autoSlideStoppable:!0,mouseWheel:!1,rollingLinks:!1,hideAddressBar:!0,previewLinks:!1,focusBodyOnPageVisiblityChange:!0,theme:null,transition:"default",transitionSpeed:"default",backgroundTransition:"default",parallaxBackgroundImage:"",parallaxBackgroundSize:"",viewDistance:3,dependencies:[]},
Ya=!1,D,N,la,G,Ia,xa=[],wa=1,n={},ea={},Pa,fb=0,eb=0,Ma=0,Na=0,La=!1,va=0,ra,sa=0,Za=-1,Ca=!1,P={startX:0,startY:0,startSpan:0,startCount:0,captured:!1,threshold:40};za.prototype.setPlaying=function(a){var b=this.playing;this.playing=a;!b&&this.playing?this.animate():this.render()};za.prototype.animate=function(){var a=this.progress;this.progress=this.progressCheck();.8<a&&.2>this.progress&&(this.progressOffset=this.progress);this.render();this.playing&&ea.requestAnimationFrameMethod.call(window,
this.animate.bind(this))};za.prototype.render=function(){var a=this.playing?this.progress:0,b=this.diameter/2-this.thickness,c=this.diameter/2,d=this.diameter/2;this.progressOffset+=.1*(1-this.progressOffset);var a=-Math.PI/2+2*a*Math.PI,e=-Math.PI/2+2*this.progressOffset*Math.PI;this.context.save();this.context.clearRect(0,0,this.diameter,this.diameter);this.context.beginPath();this.context.arc(c,d,b+2,0,2*Math.PI,!1);this.context.fillStyle="rgba( 0, 0, 0, 0.4 )";this.context.fill();this.context.beginPath();
this.context.arc(c,d,b,0,2*Math.PI,!1);this.context.lineWidth=this.thickness;this.context.strokeStyle="#666";this.context.stroke();this.playing&&(this.context.beginPath(),this.context.arc(c,d,b,e,a,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke());this.context.translate(c-7,d-7);this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,5,14),this.context.fillRect(9,0,5,14)):(this.context.beginPath(),this.context.translate(2,0),this.context.moveTo(0,
0),this.context.lineTo(12,7),this.context.lineTo(0,14),this.context.fillStyle="#fff",this.context.fill());this.context.restore()};za.prototype.on=function(a,b){this.canvas.addEventListener(a,b,!1)};za.prototype.off=function(a,b){this.canvas.removeEventListener(a,b,!1)};za.prototype.destroy=function(){this.playing=!1;this.canvas.parentNode&&this.container.removeChild(this.canvas)};return{initialize:function(b){ea.transforms3d="WebkitPerspective"in document.body.style||"MozPerspective"in document.body.style||
"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style;ea.transforms2d="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style;ea.requestAnimationFrameMethod=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;ea.requestAnimationFrame="function"===typeof ea.requestAnimationFrameMethod;
ea.canvas=!!document.createElement("canvas").getContext;Pa=navigator.userAgent.match(/(iphone|ipod|android)/gi);if(ea.transforms2d||ea.transforms3d){window.addEventListener("load",T,!1);var c=Reveal.getQueryHash();"undefined"!==typeof c.dependencies&&delete c.dependencies;l(t,b);l(t,c);t.hideAddressBar&&Pa&&(window.addEventListener("load",U,!1),window.addEventListener("orientationchange",U,!1));a()}else document.body.setAttribute("class","no-transforms")},configure:e,sync:fa,slide:K,left:pa,right:qa,
up:oa,down:ka,prev:ba,next:F,navigateFragment:da,prevFragment:ha,nextFragment:L,navigateTo:K,navigateLeft:pa,navigateRight:qa,navigateUp:oa,navigateDown:ka,navigatePrev:ba,navigateNext:F,layout:T,availableRoutes:ca,availableFragments:ua,toggleOverview:ma,togglePause:ja,isOverview:S,isPaused:Y,addEventListeners:f,removeEventListeners:g,getIndices:function(a){var b=D,c=N,d;if(a){var e=V(a),b=e?a.parentNode:a,f=h(document.querySelectorAll(".reveal .slides>section")),b=Math.max(f.indexOf(b),0);e&&(c=
Math.max(h(a.parentNode.querySelectorAll("section")).indexOf(a),0))}!a&&G&&0<G.querySelectorAll(".fragment").length&&(d=G.querySelectorAll(".fragment.visible").length-1);return{h:b,v:c,f:d}},getSlide:function(a,b){var c=document.querySelectorAll(".reveal .slides>section")[a],d=c&&c.querySelectorAll("section");return"undefined"!==typeof b?d?d[b]:void 0:c},getPreviousSlide:function(){return la},getCurrentSlide:function(){return G},getScale:function(){return wa},getConfig:function(){return t},getQueryHash:function(){var a=
{};location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,function(b){a[b.split("=").shift()]=b.split("=").pop()});for(var b in a){var c=a[b];a[b]=unescape(c);"null"===c?a[b]=null:"true"===c?a[b]=!0:"false"===c?a[b]=!1:c.match(/^\d+$/)&&(a[b]=parseFloat(c))}return a},isFirstSlide:function(){return null==document.querySelector(".reveal .slides section.past")?!0:!1},isLastSlide:function(){return G?G.nextElementSibling||V(G)&&G.parentNode.nextElementSibling?!1:!0:!1},isReady:function(){return Ya},addEventListener:function(a,
b,c){"addEventListener"in window&&(n.wrapper||document.querySelector(".reveal")).addEventListener(a,b,c)},removeEventListener:function(a,b,c){"addEventListener"in window&&(n.wrapper||document.querySelector(".reveal")).removeEventListener(a,b,c)}}}();
(function(a,b){"function"===typeof define&&define.amd?define(b):a.Meny=b()})(this,function(){"function"!==typeof Date.now&&(Date.now=function(){return(new Date).getTime()});var a={create:function(b){return function(){var d,c,e;function f(b){a.extend(r,b);m=ja="";menuAngle=r.angle;contentsAngle=r.angle/-2;switch(r.position){case "top":S="50% 0%";V="rotateX( "+menuAngle+"deg ) translateY( -100% ) translateY( "+r.overlap+"px )";fa="50% 0";Z="translateY( "+r.height+"px ) rotateX( "+contentsAngle+"deg )";
Y={top:"-"+(r.height-r.overlap)+"px"};K={top:"0px"};W={top:"0px"};aa={top:r.height+"px"};break;case "right":S="100% 50%";V="rotateY( "+menuAngle+"deg ) translateX( 100% ) translateX( -2px ) scale( 1.01 )";fa="100% 50%";Z="translateX( -"+r.width+"px ) rotateY( "+contentsAngle+"deg )";Y={right:"-"+(r.width-r.overlap)+"px"};K={right:"0px"};W={left:"0px"};aa={left:"-"+r.width+"px"};break;case "bottom":S="50% 100%";V="rotateX( "+-menuAngle+"deg ) translateY( 100% ) translateY( -"+r.overlap+"px )";fa="50% 100%";
Z="translateY( -"+r.height+"px ) rotateX( "+-contentsAngle+"deg )";Y={bottom:"-"+(r.height-r.overlap)+"px"};K={bottom:"0px"};W={top:"0px"};aa={top:"-"+r.height+"px"};break;default:S="100% 50%",V="translateX( -100% ) translateX( "+r.overlap+"px ) scale( 1.01 ) rotateY( "+-menuAngle+"deg )",fa="0 50%",Z="translateX( "+r.width+"px ) rotateY( "+-contentsAngle+"deg )",Y={left:"-"+(r.width-r.overlap)+"px"},K={left:"0px"},W={left:"0px"},aa={left:r.width+"px"}}a.addClass(k.wrapper,"meny-"+r.position);d=k.wrapper.style.cssText;
k.wrapper.style[a.prefix("perspective")]="800px";k.wrapper.style[a.prefix("perspectiveOrigin")]=fa;k.cover&&k.cover.parentNode.removeChild(k.cover);k.cover=document.createElement("div");k.cover.style.position="absolute";k.cover.style.display="block";k.cover.style.width="100%";k.cover.style.height="100%";k.cover.style.left=0;k.cover.style.top=0;k.cover.style.zIndex=1E3;k.cover.style.visibility="hidden";k.cover.style.opacity=0;try{k.cover.style.background="rgba( 0, 0, 0, 0.4 )",k.cover.style.background=
"-ms-linear-gradient("+r.position+","+r.gradient,k.cover.style.background="-moz-linear-gradient("+r.position+","+r.gradient,k.cover.style.background="-webkit-linear-gradient("+r.position+","+r.gradient}catch(f){}H&&(k.cover.style[a.prefix("transition")]="all "+r.transitionDuration+" "+r.transitionEasing);k.contents.appendChild(k.cover);b=k.menu.style;switch(r.position){case "top":b.width="100%";b.height=r.height+"px";break;case "right":b.right="0";b.width=r.width+"px";b.height="100%";break;case "bottom":b.bottom=
"0";b.width="100%";b.height=r.height+"px";break;case "left":b.width=r.width+"px",b.height="100%"}c=b.cssText;b.position="fixed";b.display="block";b.zIndex=1;H?(b[a.prefix("transform")]=V,b[a.prefix("transformOrigin")]=S,b[a.prefix("transition")]="all "+r.transitionDuration+" "+r.transitionEasing):a.extend(b,Y);b=k.contents.style;e=b.cssText;H?(b[a.prefix("transform")]=m,b[a.prefix("transformOrigin")]=fa,b[a.prefix("transition")]="all "+r.transitionDuration+" "+r.transitionEasing):(b.position=b.position.match(/relative|absolute|fixed/gi)?
b.position:"relative",a.extend(b,W));"ontouchstart"in window&&(r.touch?(a.bindEvent(document,"touchstart",w),a.bindEvent(document,"touchend",x)):(a.unbindEvent(document,"touchstart",w),a.unbindEvent(document,"touchend",x)));r.mouse?(a.bindEvent(document,"mousedown",h),a.bindEvent(document,"mouseup",p),a.bindEvent(document,"mousemove",q)):(a.unbindEvent(document,"mousedown",h),a.unbindEvent(document,"mouseup",p),a.unbindEvent(document,"mousemove",q))}function g(){O||(O=!0,a.addClass(k.wrapper,"meny-active"),
k.cover.style.height=k.contents.scrollHeight+"px",k.cover.style.visibility="visible",H?(a.bindEventOnce(k.wrapper,"transitionend",function(){a.dispatchEvent(k.menu,"opened")}),k.cover.style.opacity=1,k.contents.style[a.prefix("transform")]=Z,k.menu.style[a.prefix("transform")]=ja):(Q&&Q.stop(),Q=a.animate(k.menu,K,500),M&&M.stop(),M=a.animate(k.contents,aa,500),A&&A.stop(),A=a.animate(k.cover,{opacity:1},500)),a.dispatchEvent(k.menu,"open"))}function l(){O&&(O=!1,a.removeClass(k.wrapper,"meny-active"),
H?(a.bindEventOnce(k.wrapper,"transitionend",function(){a.dispatchEvent(k.menu,"closed")}),k.cover.style.visibility="hidden",k.cover.style.opacity=0,k.contents.style[a.prefix("transform")]=m,k.menu.style[a.prefix("transform")]=V):(Q&&Q.stop(),Q=a.animate(k.menu,Y,500),M&&M.stop(),M=a.animate(k.contents,W,500),A&&A.stop(),A=a.animate(k.cover,{opacity:0},500,function(){k.cover.style.visibility="hidden";a.dispatchEvent(k.menu,"closed")})),a.dispatchEvent(k.menu,"close"))}function h(a){ma=!0}function q(a){if(!ma){var b=
a.clientX-E;a=a.clientY-T;switch(r.position){case "top":a>r.height?l():a<r.threshold&&g();break;case "right":a=k.wrapper.offsetWidth;b<a-r.width?l():b>a-r.threshold&&g();break;case "bottom":b=k.wrapper.offsetHeight;a<b-r.height?l():a>b-r.threshold&&g();break;case "left":b>r.width?l():b<r.threshold&&g()}}}function p(a){ma=!1}function w(b){C=b.touches[0].clientX-E;I=b.touches[0].clientY-T;z=y=null;a.bindEvent(document,"touchmove",J)}function J(a){y=a.touches[0].clientX-E;z=a.touches[0].clientY-T;var b=
null;Math.abs(y-C)>Math.abs(z-I)?y<C-r.threshold?b=B:y>C+r.threshold&&(b=U):z<I-r.threshold?b=u:z>I+r.threshold&&(b=v);b&&b()&&a.preventDefault()}function x(b){a.unbindEvent(document,"touchmove",J);null===y&&null===z&&("top"===r.position&&I>r.height||"right"===r.position&&C<k.wrapper.offsetWidth-r.width||"bottom"===r.position&&I<k.wrapper.offsetHeight-r.height||"left"===r.position&&C>r.width)&&l()}function U(){if("right"===r.position&&O)return l(),!0;if("left"===r.position&&!O)return g(),!0}function B(){if("right"===
r.position&&!O)return g(),!0;if("left"===r.position&&O)return l(),!0}function v(){if("bottom"===r.position&&O)return l(),!0;if("top"===r.position&&!O)return g(),!0}function u(){if("bottom"===r.position&&!O)return g(),!0;if("top"===r.position&&O)return l(),!0}if(!b||!b.menuElement||!b.contentsElement)throw"You need to specify which menu and contents elements to use.";if(b.menuElement.parentNode!==b.contentsElement.parentNode)throw"The menu and contents elements must have the same parent.";var H="WebkitPerspective"in
document.body.style||"MozPerspective"in document.body.style||"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style,r={width:300,height:300,position:"left",threshold:40,angle:30,overlap:6,transitionDuration:"0.5s",transitionEasing:"ease",gradient:"rgba(0,0,0,0.20) 0%, rgba(0,0,0,0.65) 100%)",mouse:!0,touch:!0},k={menu:b.menuElement,contents:b.contentsElement,wrapper:b.menuElement.parentNode,cover:null},E=k.wrapper.offsetLeft,T=k.wrapper.offsetTop,
C=null,I=null,y=null,z=null,O=!1,ma=!1,S,V,ja,Y,K,fa,m,Z,W,aa;e=c=d=void 0;var X=[],Q,M,A;f(b);return{configure:f,open:g,close:l,destroy:function(){k.wrapper.style.cssText=d;k.menu.style.cssText=c;k.contents.style.cssText=e;k.cover&&k.cover.parentNode&&k.cover.parentNode.removeChild(k.cover);a.unbindEvent(document,"touchstart",w);a.unbindEvent(document,"touchend",x);a.unbindEvent(document,"mousedown",h);a.unbindEvent(document,"mouseup",p);a.unbindEvent(document,"mousemove",q);for(var b in X)this.removeEventListener(X[b][0],
X[b][1]);X=[]},isOpen:function(){return O},addEventListener:function(b,c){X.push([b,c]);k.menu&&a.bindEvent(k.menu,b,c)},removeEventListener:function(b,c){k.menu&&a.unbindEvent(k.menu,b,c)}}}()},animate:function(a,d,c,e){return function(){function f(){var d=1-Math.pow(1-(Date.now()-q)/c,5),h;for(h in l){var x=l[h];a.style[h]=x.start+(x.end-x.start)*d+x.unit}1>d?p=setTimeout(f,1E3/60):(e&&e(),g())}function g(){clearTimeout(p)}var l={},h;for(h in d)l[h]={start:parseFloat(a.style[h])||0,end:parseFloat(d[h]),
unit:"string"===typeof d[h]&&d[h].match(/px|em|%/gi)?d[h].match(/px|em|%/gi)[0]:""};var q=Date.now(),p;f();return{stop:g}}()},extend:function(a,d){for(var c in d)a[c]=d[c]},prefix:function(a,d){for(var c=a.slice(0,1).toUpperCase()+a.slice(1),e=["Webkit","Moz","O","ms"],f=0,g=e.length;f<g;f++){var l=e[f];if("undefined"!==typeof(d||document.body).style[l+c])return l+c}return a},addClass:function(a,d){a.className=a.className.replace(/\s+$/gi,"")+" "+d},removeClass:function(a,d){a.className=a.className.replace(d,
"")},bindEvent:function(a,d,c){a.addEventListener?a.addEventListener(d,c,!1):a.attachEvent("on"+d,c)},unbindEvent:function(a,d,c){a.removeEventListener?a.removeEventListener(d,c,!1):a.detachEvent("on"+d,c)},bindEventOnce:function(a,d,c){var e=this,f=function(){e.unbindEvent(a,d,f);c.apply(this,arguments)};this.bindEvent(a,d,f)},dispatchEvent:function(b,d,c){if(b){var e=document.createEvent("HTMLEvents",1,2);e.initEvent(d,!0,!0);a.extend(e,c);b.dispatchEvent(e)}},getQuery:function(){var a={};location.search.replace(/[A-Z0-9]+?=([\w|:|\/\.]*)/gi,
function(d){a[d.split("=").shift()]=d.split("=").pop()});return a}};return a});
